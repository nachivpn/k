<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>IK.Norm.Properties.Soundness.Trace</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a>
<a id="29" class="Keyword">module</a> <a id="36" href="IK.Norm.Properties.Soundness.Trace.html" class="Module">IK.Norm.Properties.Soundness.Trace</a> <a id="71" class="Keyword">where</a>

<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Data.Unit.html" class="Module">Data.Unit</a>
  <a id="102" class="Keyword">using</a> <a id="108" class="Symbol">(</a><a id="109" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="111" class="Symbol">;</a> <a id="113" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="115" class="Symbol">)</a>
<a id="117" class="Keyword">open</a> <a id="122" class="Keyword">import</a> <a id="129" href="Data.Product.html" class="Module">Data.Product</a>
  <a id="144" class="Keyword">using</a> <a id="150" class="Symbol">(</a><a id="151" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="153" class="Symbol">;</a> <a id="155" href="Data.Product.html#1167" class="Function Operator">_×_</a> <a id="159" class="Symbol">;</a> <a id="161" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="165" class="Symbol">;</a> <a id="167" href="Data.Product.html#1369" class="Function">∃</a><a id="168" class="Symbol">)</a>

<a id="171" class="Keyword">open</a> <a id="176" class="Keyword">import</a> <a id="183" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="222" class="Keyword">open</a> <a id="227" class="Keyword">import</a> <a id="234" href="PEUtil.html" class="Module">PEUtil</a>

<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="IK.Norm.Base.html" class="Module">IK.Norm.Base</a>

<a id="268" class="Keyword">open</a> <a id="273" class="Keyword">import</a> <a id="280" href="IK.Norm.NbE.Model.html" class="Module">IK.Norm.NbE.Model</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="IK.Norm.NbE.Reification.html" class="Module">IK.Norm.NbE.Reification</a>

<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="IK.Term.html" class="Module">IK.Term</a>

<a id="quotTm"></a><a id="356" href="IK.Norm.Properties.Soundness.Trace.html#356" class="Function">quotTm</a> <a id="363" class="Symbol">:</a> <a id="365" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="369" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="371" href="Type.Base.html#172" class="Generalizable">a</a> <a id="373" class="Symbol">→</a> <a id="375" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="378" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="380" href="Type.Base.html#172" class="Generalizable">a</a>
<a id="382" href="IK.Norm.Properties.Soundness.Trace.html#356" class="Function">quotTm</a> <a id="389" href="IK.Norm.Properties.Soundness.Trace.html#389" class="Bound">x</a> <a id="391" class="Symbol">=</a> <a id="393" href="IK.Term.NormalForm.Base.html#749" class="Function">embNf</a> <a id="399" class="Symbol">(</a><a id="400" href="IK.Norm.NbE.Reification.html#326" class="Function">reify</a> <a id="406" href="IK.Norm.Properties.Soundness.Trace.html#389" class="Bound">x</a><a id="407" class="Symbol">)</a>

<a id="410" class="Comment">-----------------------</a>
<a id="434" class="Comment">-- Logical Relations --</a>
<a id="458" class="Comment">-----------------------</a>

<a id="L"></a><a id="483" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="485" class="Symbol">:</a> <a id="487" class="Symbol">(</a><a id="488" href="IK.Norm.Properties.Soundness.Trace.html#488" class="Bound">a</a> <a id="490" class="Symbol">:</a> <a id="492" href="Type.Base.html#79" class="Datatype">Ty</a><a id="494" class="Symbol">)</a> <a id="496" class="Symbol">→</a> <a id="498" class="Symbol">(</a><a id="499" href="IK.Norm.Properties.Soundness.Trace.html#499" class="Bound">t</a> <a id="501" class="Symbol">:</a> <a id="503" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="506" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="508" href="IK.Norm.Properties.Soundness.Trace.html#488" class="Bound">a</a><a id="509" class="Symbol">)</a> <a id="511" class="Symbol">→</a> <a id="513" class="Symbol">(</a><a id="514" href="IK.Norm.Properties.Soundness.Trace.html#514" class="Bound">x</a> <a id="516" class="Symbol">:</a> <a id="518" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="522" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="524" href="IK.Norm.Properties.Soundness.Trace.html#488" class="Bound">a</a><a id="525" class="Symbol">)</a> <a id="527" class="Symbol">→</a> <a id="529" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="533" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a>     <a id="539" href="Type.Base.html#96" class="InductiveConstructor">ι</a>       <a id="547" href="IK.Norm.Properties.Soundness.Trace.html#547" class="Bound">t</a> <a id="549" href="IK.Norm.Properties.Soundness.Trace.html#549" class="Bound">n</a> <a id="551" class="Symbol">=</a>
  <a id="555" href="IK.Norm.Properties.Soundness.Trace.html#547" class="Bound">t</a> <a id="557" href="IK.Term.Reduction.html#1693" class="Function Operator">⟶*</a> <a id="560" href="IK.Norm.Properties.Soundness.Trace.html#356" class="Function">quotTm</a> <a id="567" href="IK.Norm.Properties.Soundness.Trace.html#549" class="Bound">n</a>
<a id="569" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="571" class="Symbol">{</a><a id="572" href="IK.Norm.Properties.Soundness.Trace.html#572" class="Bound">Γ</a><a id="573" class="Symbol">}</a> <a id="575" class="Symbol">(</a><a id="576" href="IK.Norm.Properties.Soundness.Trace.html#576" class="Bound">a</a> <a id="578" href="Type.Base.html#107" class="InductiveConstructor Operator">⇒</a> <a id="580" href="IK.Norm.Properties.Soundness.Trace.html#580" class="Bound">b</a><a id="581" class="Symbol">)</a> <a id="583" href="IK.Norm.Properties.Soundness.Trace.html#583" class="Bound">t</a> <a id="585" href="IK.Norm.Properties.Soundness.Trace.html#585" class="Bound">f</a> <a id="587" class="Symbol">=</a>
  <a id="591" class="Symbol">∀</a> <a id="593" class="Symbol">{</a><a id="594" href="IK.Norm.Properties.Soundness.Trace.html#594" class="Bound">Γ&#39;</a> <a id="597" class="Symbol">:</a> <a id="599" href="Context.Base.html#419" class="Datatype">Ctx</a><a id="602" class="Symbol">}</a> <a id="604" class="Symbol">{</a><a id="605" href="IK.Norm.Properties.Soundness.Trace.html#605" class="Bound">u</a> <a id="607" class="Symbol">:</a> <a id="609" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="612" href="IK.Norm.Properties.Soundness.Trace.html#594" class="Bound">Γ&#39;</a> <a id="615" href="IK.Norm.Properties.Soundness.Trace.html#576" class="Bound">a</a><a id="616" class="Symbol">}</a> <a id="618" class="Symbol">{</a><a id="619" href="IK.Norm.Properties.Soundness.Trace.html#619" class="Bound">x</a> <a id="621" class="Symbol">:</a> <a id="623" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="627" href="IK.Norm.Properties.Soundness.Trace.html#594" class="Bound">Γ&#39;</a> <a id="630" href="IK.Norm.Properties.Soundness.Trace.html#576" class="Bound">a</a><a id="631" class="Symbol">}</a>
    <a id="637" class="Symbol">→</a> <a id="639" class="Symbol">(</a><a id="640" href="IK.Norm.Properties.Soundness.Trace.html#640" class="Bound">w</a> <a id="642" class="Symbol">:</a> <a id="644" href="IK.Norm.Properties.Soundness.Trace.html#572" class="Bound">Γ</a> <a id="646" href="Context.Base.html#1356" class="Datatype Operator">⊆</a> <a id="648" href="IK.Norm.Properties.Soundness.Trace.html#594" class="Bound">Γ&#39;</a><a id="650" class="Symbol">)</a> <a id="652" class="Symbol">→</a> <a id="654" class="Symbol">(</a><a id="655" href="IK.Norm.Properties.Soundness.Trace.html#655" class="Bound">uLx</a> <a id="659" class="Symbol">:</a> <a id="661" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="663" href="IK.Norm.Properties.Soundness.Trace.html#576" class="Bound">a</a> <a id="665" href="IK.Norm.Properties.Soundness.Trace.html#605" class="Bound">u</a> <a id="667" href="IK.Norm.Properties.Soundness.Trace.html#619" class="Bound">x</a><a id="668" class="Symbol">)</a> <a id="670" class="Symbol">→</a> <a id="672" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="674" href="IK.Norm.Properties.Soundness.Trace.html#580" class="Bound">b</a> <a id="676" class="Symbol">(</a><a id="677" href="IK.Term.Base.html#697" class="InductiveConstructor">app</a> <a id="681" class="Symbol">(</a><a id="682" href="IK.Term.Base.html#1040" class="Function">wkTm</a> <a id="687" href="IK.Norm.Properties.Soundness.Trace.html#640" class="Bound">w</a> <a id="689" href="IK.Norm.Properties.Soundness.Trace.html#583" class="Bound">t</a><a id="690" class="Symbol">)</a> <a id="692" href="IK.Norm.Properties.Soundness.Trace.html#605" class="Bound">u</a><a id="693" class="Symbol">)</a> <a id="695" class="Symbol">(</a><a id="696" href="IK.Norm.Properties.Soundness.Trace.html#585" class="Bound">f</a> <a id="698" href="IK.Norm.Properties.Soundness.Trace.html#640" class="Bound">w</a> <a id="700" href="IK.Norm.Properties.Soundness.Trace.html#619" class="Bound">x</a><a id="701" class="Symbol">)</a>
<a id="703" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="705" class="Symbol">(</a><a id="706" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="708" href="IK.Norm.Properties.Soundness.Trace.html#708" class="Bound">a</a><a id="709" class="Symbol">)</a>       <a id="717" href="IK.Norm.Properties.Soundness.Trace.html#717" class="Bound">t</a> <a id="719" href="IK.Norm.Properties.Soundness.Trace.html#719" class="Bound">b</a> <a id="721" class="Symbol">=</a> <a id="723" class="Keyword">let</a> <a id="727" href="IK.Norm.NbE.Model.html#558" class="InductiveConstructor">box&#39;</a> <a id="732" href="IK.Norm.Properties.Soundness.Trace.html#732" class="Bound">x</a> <a id="734" class="Symbol">=</a> <a id="736" href="IK.Norm.Properties.Soundness.Trace.html#719" class="Bound">b</a> <a id="738" class="Keyword">in</a>
  <a id="743" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="745" href="IK.Norm.Properties.Soundness.Trace.html#708" class="Bound">a</a> <a id="747" class="Symbol">(</a><a id="748" href="IK.Term.Base.html#868" class="InductiveConstructor">unbox</a> <a id="754" href="IK.Norm.Properties.Soundness.Trace.html#717" class="Bound">t</a> <a id="756" href="IK.Term.Base.html#1697" class="InductiveConstructor">new</a><a id="759" class="Symbol">)</a> <a id="761" href="IK.Norm.Properties.Soundness.Trace.html#732" class="Bound">x</a>

<a id="764" class="Keyword">data</a> <a id="Lₛ"></a><a id="769" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="772" class="Symbol">{</a><a id="773" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="775" class="Symbol">:</a> <a id="777" href="Context.Base.html#419" class="Datatype">Ctx</a><a id="780" class="Symbol">}</a> <a id="782" class="Symbol">:</a> <a id="784" class="Symbol">(</a><a id="785" href="IK.Norm.Properties.Soundness.Trace.html#785" class="Bound">Δ</a> <a id="787" class="Symbol">:</a> <a id="789" href="Context.Base.html#419" class="Datatype">Ctx</a><a id="792" class="Symbol">)</a> <a id="794" class="Symbol">→</a> <a id="796" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="800" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="802" href="IK.Norm.Properties.Soundness.Trace.html#785" class="Bound">Δ</a> <a id="804" class="Symbol">→</a> <a id="806" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="811" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="813" href="IK.Norm.Properties.Soundness.Trace.html#785" class="Bound">Δ</a> <a id="815" class="Symbol">→</a> <a id="817" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="821" class="Keyword">where</a>
  <a id="Lₛ.[]"></a><a id="829" href="IK.Norm.Properties.Soundness.Trace.html#829" class="InductiveConstructor">[]</a>   <a id="834" class="Symbol">:</a> <a id="836" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="839" href="Context.Base.html#437" class="InductiveConstructor">[]</a> <a id="842" href="Context.Base.html#11175" class="InductiveConstructor">[]</a> <a id="845" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
  <a id="Lₛ._`,_"></a><a id="850" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">_`,_</a> <a id="855" class="Symbol">:</a> <a id="857" class="Symbol">{</a><a id="858" href="IK.Norm.Properties.Soundness.Trace.html#858" class="Bound">s</a> <a id="860" class="Symbol">:</a> <a id="862" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="866" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="868" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="869" class="Symbol">}</a> <a id="871" class="Symbol">{</a><a id="872" href="IK.Norm.Properties.Soundness.Trace.html#872" class="Bound">δ</a> <a id="874" class="Symbol">:</a> <a id="876" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="881" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="883" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="884" class="Symbol">}</a> <a id="886" class="Symbol">{</a><a id="887" href="IK.Norm.Properties.Soundness.Trace.html#887" class="Bound">t</a> <a id="889" class="Symbol">:</a> <a id="891" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="894" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="896" href="Type.Base.html#172" class="Generalizable">a</a><a id="897" class="Symbol">}</a> <a id="899" class="Symbol">{</a><a id="900" href="IK.Norm.Properties.Soundness.Trace.html#900" class="Bound">x</a> <a id="902" class="Symbol">:</a> <a id="904" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="908" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="910" href="Type.Base.html#172" class="Generalizable">a</a><a id="911" class="Symbol">}</a>
           <a id="924" class="Symbol">→</a> <a id="926" class="Symbol">(</a><a id="927" href="IK.Norm.Properties.Soundness.Trace.html#927" class="Bound">sLδ</a> <a id="931" class="Symbol">:</a> <a id="933" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="936" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="938" href="IK.Norm.Properties.Soundness.Trace.html#858" class="Bound">s</a> <a id="940" href="IK.Norm.Properties.Soundness.Trace.html#872" class="Bound">δ</a><a id="941" class="Symbol">)</a> <a id="943" class="Symbol">→</a> <a id="945" class="Symbol">(</a><a id="946" href="IK.Norm.Properties.Soundness.Trace.html#946" class="Bound">tLx</a> <a id="950" class="Symbol">:</a> <a id="952" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="954" href="Type.Base.html#172" class="Generalizable">a</a> <a id="956" href="IK.Norm.Properties.Soundness.Trace.html#887" class="Bound">t</a> <a id="958" href="IK.Norm.Properties.Soundness.Trace.html#900" class="Bound">x</a><a id="959" class="Symbol">)</a> <a id="961" class="Symbol">→</a> <a id="963" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="966" class="Symbol">(</a><a id="967" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="969" href="Context.Base.html#450" class="InductiveConstructor Operator">`,</a> <a id="972" href="Type.Base.html#172" class="Generalizable">a</a><a id="973" class="Symbol">)</a> <a id="975" class="Symbol">(</a><a id="976" href="IK.Norm.Properties.Soundness.Trace.html#858" class="Bound">s</a> <a id="978" href="Context.Base.html#11195" class="InductiveConstructor Operator">`,</a> <a id="981" href="IK.Norm.Properties.Soundness.Trace.html#887" class="Bound">t</a><a id="982" class="Symbol">)</a>  <a id="985" class="Symbol">(</a><a id="986" href="IK.Norm.Properties.Soundness.Trace.html#872" class="Bound">δ</a> <a id="988" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="990" href="IK.Norm.Properties.Soundness.Trace.html#900" class="Bound">x</a><a id="991" class="Symbol">)</a>
  <a id="Lₛ.lock"></a><a id="995" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="1000" class="Symbol">:</a> <a id="1002" class="Symbol">{</a><a id="1003" href="IK.Norm.Properties.Soundness.Trace.html#1003" class="Bound">s</a> <a id="1005" class="Symbol">:</a> <a id="1007" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="1011" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a> <a id="1014" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="1015" class="Symbol">}</a> <a id="1017" class="Symbol">{</a><a id="1018" href="IK.Norm.Properties.Soundness.Trace.html#1018" class="Bound">δ</a> <a id="1020" class="Symbol">:</a> <a id="1022" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="1027" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a> <a id="1030" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="1031" class="Symbol">}</a>
           <a id="1044" class="Symbol">→</a> <a id="1046" class="Symbol">(</a><a id="1047" href="IK.Norm.Properties.Soundness.Trace.html#1047" class="Bound">sLδ</a> <a id="1051" class="Symbol">:</a> <a id="1053" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="1056" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="1058" href="IK.Norm.Properties.Soundness.Trace.html#1003" class="Bound">s</a> <a id="1060" href="IK.Norm.Properties.Soundness.Trace.html#1018" class="Bound">δ</a><a id="1061" class="Symbol">)</a> <a id="1063" class="Symbol">→</a> <a id="1065" class="Symbol">(</a><a id="1066" href="IK.Norm.Properties.Soundness.Trace.html#1066" class="Bound">e</a> <a id="1068" class="Symbol">:</a> <a id="1070" href="Context.Base.html#4737" class="Function">LFExt</a> <a id="1076" href="IK.Norm.Properties.Soundness.Trace.html#773" class="Bound">Γ</a> <a id="1078" class="Symbol">(</a><a id="1079" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a> <a id="1082" href="Context.Base.html#486" class="InductiveConstructor Operator">#</a><a id="1083" class="Symbol">)</a> <a id="1085" href="Context.Base.html#627" class="Generalizable">ΓR</a><a id="1087" class="Symbol">)</a> <a id="1089" class="Symbol">→</a> <a id="1091" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="1094" class="Symbol">(</a><a id="1095" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="1097" href="Context.Base.html#486" class="InductiveConstructor Operator">#</a><a id="1098" class="Symbol">)</a> <a id="1100" class="Symbol">(</a><a id="1101" href="Context.Base.html#11258" class="InductiveConstructor">lock</a> <a id="1106" href="IK.Norm.Properties.Soundness.Trace.html#1003" class="Bound">s</a> <a id="1108" href="IK.Norm.Properties.Soundness.Trace.html#1066" class="Bound">e</a><a id="1109" class="Symbol">)</a> <a id="1111" class="Symbol">(</a><a id="1112" href="IK.Norm.NbE.Model.html#684" class="InductiveConstructor">lock</a> <a id="1117" href="IK.Norm.Properties.Soundness.Trace.html#1018" class="Bound">δ</a> <a id="1119" href="IK.Norm.Properties.Soundness.Trace.html#1066" class="Bound">e</a><a id="1120" class="Symbol">)</a>

<a id="1123" class="Comment">----------------------------</a>
<a id="1152" class="Comment">-- Standard LR properties --</a>
<a id="1181" class="Comment">----------------------------</a>

<a id="1211" class="Comment">-- prepend a reduction trace to the &quot;trace builder&quot; L</a>
<a id="L-prepend"></a><a id="1265" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="1275" class="Symbol">:</a> <a id="1277" class="Symbol">{</a><a id="1278" href="IK.Norm.Properties.Soundness.Trace.html#1278" class="Bound">t</a> <a id="1280" class="Symbol">:</a> <a id="1282" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="1285" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1287" href="Type.Base.html#172" class="Generalizable">a</a><a id="1288" class="Symbol">}</a> <a id="1290" class="Symbol">{</a><a id="1291" href="IK.Norm.Properties.Soundness.Trace.html#1291" class="Bound">x</a> <a id="1293" class="Symbol">:</a> <a id="1295" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="1299" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1301" href="Type.Base.html#172" class="Generalizable">a</a><a id="1302" class="Symbol">}</a>
  <a id="1306" class="Symbol">→</a> <a id="1308" class="Symbol">(</a><a id="1309" href="IK.Norm.Properties.Soundness.Trace.html#1309" class="Bound">t⟶*u</a> <a id="1314" class="Symbol">:</a> <a id="1316" href="IK.Norm.Properties.Soundness.Trace.html#1278" class="Bound">t</a> <a id="1318" href="IK.Term.Reduction.html#1693" class="Function Operator">⟶*</a> <a id="1321" href="IK.Term.Base.html#1016" class="Generalizable">u</a><a id="1322" class="Symbol">)</a>
  <a id="1326" class="Symbol">→</a> <a id="1328" class="Symbol">(</a><a id="1329" href="IK.Norm.Properties.Soundness.Trace.html#1329" class="Bound">uLx</a> <a id="1333" class="Symbol">:</a> <a id="1335" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="1337" href="Type.Base.html#172" class="Generalizable">a</a> <a id="1339" href="IK.Term.Base.html#1016" class="Generalizable">u</a> <a id="1341" href="IK.Norm.Properties.Soundness.Trace.html#1291" class="Bound">x</a><a id="1342" class="Symbol">)</a>
  <a id="1346" class="Symbol">→</a> <a id="1348" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="1350" href="Type.Base.html#172" class="Generalizable">a</a> <a id="1352" href="IK.Norm.Properties.Soundness.Trace.html#1278" class="Bound">t</a> <a id="1354" href="IK.Norm.Properties.Soundness.Trace.html#1291" class="Bound">x</a>
<a id="1356" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="1366" class="Symbol">{</a><a id="1367" class="Argument">a</a> <a id="1369" class="Symbol">=</a> <a id="1371" href="Type.Base.html#96" class="InductiveConstructor">ι</a><a id="1372" class="Symbol">}</a>     <a id="1378" href="IK.Norm.Properties.Soundness.Trace.html#1378" class="Bound">t⟶*u</a> <a id="1383" href="IK.Norm.Properties.Soundness.Trace.html#1383" class="Bound">uLn</a>
  <a id="1389" class="Symbol">=</a> <a id="1391" href="IK.Term.Reduction.html#1747" class="Function">multi</a> <a id="1397" href="IK.Norm.Properties.Soundness.Trace.html#1378" class="Bound">t⟶*u</a> <a id="1402" href="IK.Norm.Properties.Soundness.Trace.html#1383" class="Bound">uLn</a>
<a id="1406" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="1416" class="Symbol">{</a><a id="1417" class="Argument">a</a> <a id="1419" class="Symbol">=</a> <a id="1421" href="IK.Norm.Properties.Soundness.Trace.html#1421" class="Bound">a</a> <a id="1423" href="Type.Base.html#107" class="InductiveConstructor Operator">⇒</a> <a id="1425" href="IK.Norm.Properties.Soundness.Trace.html#1425" class="Bound">b</a><a id="1426" class="Symbol">}</a> <a id="1428" href="IK.Norm.Properties.Soundness.Trace.html#1428" class="Bound">t⟶*u</a> <a id="1433" href="IK.Norm.Properties.Soundness.Trace.html#1433" class="Bound">uLf</a>
  <a id="1439" class="Symbol">=</a> <a id="1441" class="Symbol">λ</a> <a id="1443" href="IK.Norm.Properties.Soundness.Trace.html#1443" class="Bound">w</a> <a id="1445" href="IK.Norm.Properties.Soundness.Trace.html#1445" class="Bound">uRy</a> <a id="1449" class="Symbol">→</a> <a id="1451" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="1461" class="Symbol">(</a><a id="1462" href="IK.Term.Reduction.html#3846" class="Function">cong-app1*</a> <a id="1473" class="Symbol">(</a><a id="1474" href="IK.Term.Properties.html#14835" class="Function">wkTmPres⟶*</a> <a id="1485" href="IK.Norm.Properties.Soundness.Trace.html#1443" class="Bound">w</a> <a id="1487" href="IK.Norm.Properties.Soundness.Trace.html#1428" class="Bound">t⟶*u</a><a id="1491" class="Symbol">))</a> <a id="1494" class="Symbol">(</a><a id="1495" href="IK.Norm.Properties.Soundness.Trace.html#1433" class="Bound">uLf</a> <a id="1499" href="IK.Norm.Properties.Soundness.Trace.html#1443" class="Bound">w</a> <a id="1501" href="IK.Norm.Properties.Soundness.Trace.html#1445" class="Bound">uRy</a><a id="1504" class="Symbol">)</a>
<a id="1506" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="1516" class="Symbol">{</a><a id="1517" class="Argument">a</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="1523" href="IK.Norm.Properties.Soundness.Trace.html#1523" class="Bound">a</a><a id="1524" class="Symbol">}</a>   <a id="1528" href="IK.Norm.Properties.Soundness.Trace.html#1528" class="Bound">t⟶*u</a> <a id="1533" href="IK.Norm.Properties.Soundness.Trace.html#1533" class="Bound">uLb</a>
  <a id="1539" class="Symbol">=</a> <a id="1541" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="1551" class="Symbol">(</a><a id="1552" href="IK.Term.Reduction.html#3437" class="Function">cong-unbox*</a> <a id="1564" href="IK.Norm.Properties.Soundness.Trace.html#1528" class="Bound">t⟶*u</a><a id="1568" class="Symbol">)</a> <a id="1570" href="IK.Norm.Properties.Soundness.Trace.html#1533" class="Bound">uLb</a>

<a id="1575" class="Comment">-- reduction-free version of L-prepend</a>
<a id="L-cast"></a><a id="1614" href="IK.Norm.Properties.Soundness.Trace.html#1614" class="Function">L-cast</a> <a id="1621" class="Symbol">:</a> <a id="1623" class="Symbol">{</a><a id="1624" href="IK.Norm.Properties.Soundness.Trace.html#1624" class="Bound">t</a> <a id="1626" href="IK.Norm.Properties.Soundness.Trace.html#1626" class="Bound">u</a> <a id="1628" class="Symbol">:</a> <a id="1630" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="1633" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1635" href="Type.Base.html#172" class="Generalizable">a</a><a id="1636" class="Symbol">}</a> <a id="1638" class="Symbol">{</a><a id="1639" href="IK.Norm.Properties.Soundness.Trace.html#1639" class="Bound">x</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="1647" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1649" href="Type.Base.html#172" class="Generalizable">a</a><a id="1650" class="Symbol">}</a>
  <a id="1654" class="Symbol">→</a> <a id="1656" class="Symbol">(</a><a id="1657" href="IK.Norm.Properties.Soundness.Trace.html#1657" class="Bound">t≡u</a> <a id="1661" class="Symbol">:</a> <a id="1663" href="IK.Norm.Properties.Soundness.Trace.html#1624" class="Bound">t</a> <a id="1665" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1667" href="IK.Norm.Properties.Soundness.Trace.html#1626" class="Bound">u</a><a id="1668" class="Symbol">)</a>
  <a id="1672" class="Symbol">→</a> <a id="1674" class="Symbol">(</a><a id="1675" href="IK.Norm.Properties.Soundness.Trace.html#1675" class="Bound">uLx</a> <a id="1679" class="Symbol">:</a> <a id="1681" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="1683" href="Type.Base.html#172" class="Generalizable">a</a> <a id="1685" href="IK.Norm.Properties.Soundness.Trace.html#1626" class="Bound">u</a> <a id="1687" href="IK.Norm.Properties.Soundness.Trace.html#1639" class="Bound">x</a><a id="1688" class="Symbol">)</a>
  <a id="1692" class="Symbol">→</a> <a id="1694" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="1696" href="Type.Base.html#172" class="Generalizable">a</a> <a id="1698" href="IK.Norm.Properties.Soundness.Trace.html#1624" class="Bound">t</a> <a id="1700" href="IK.Norm.Properties.Soundness.Trace.html#1639" class="Bound">x</a>
<a id="1702" href="IK.Norm.Properties.Soundness.Trace.html#1614" class="Function">L-cast</a> <a id="1709" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1714" href="IK.Norm.Properties.Soundness.Trace.html#1714" class="Bound">uLx</a> <a id="1718" class="Symbol">=</a> <a id="1720" href="IK.Norm.Properties.Soundness.Trace.html#1714" class="Bound">uLx</a>

<a id="1725" class="Comment">-- extract reduction trace from L</a>
<a id="L-build"></a><a id="1759" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="1767" class="Symbol">:</a> <a id="1769" class="Symbol">{</a><a id="1770" href="IK.Norm.Properties.Soundness.Trace.html#1770" class="Bound">t</a> <a id="1772" class="Symbol">:</a> <a id="1774" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="1777" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1779" href="Type.Base.html#172" class="Generalizable">a</a><a id="1780" class="Symbol">}</a> <a id="1782" class="Symbol">{</a><a id="1783" href="IK.Norm.Properties.Soundness.Trace.html#1783" class="Bound">x</a> <a id="1785" class="Symbol">:</a> <a id="1787" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="1791" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1793" href="Type.Base.html#172" class="Generalizable">a</a><a id="1794" class="Symbol">}</a>
  <a id="1798" class="Symbol">→</a> <a id="1800" class="Symbol">(</a><a id="1801" href="IK.Norm.Properties.Soundness.Trace.html#1801" class="Bound">tLx</a> <a id="1805" class="Symbol">:</a> <a id="1807" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="1809" href="Type.Base.html#172" class="Generalizable">a</a> <a id="1811" href="IK.Norm.Properties.Soundness.Trace.html#1770" class="Bound">t</a> <a id="1813" href="IK.Norm.Properties.Soundness.Trace.html#1783" class="Bound">x</a><a id="1814" class="Symbol">)</a> <a id="1816" class="Symbol">→</a> <a id="1818" href="IK.Norm.Properties.Soundness.Trace.html#1770" class="Bound">t</a> <a id="1820" href="IK.Term.Reduction.html#1693" class="Function Operator">⟶*</a> <a id="1823" href="IK.Norm.Properties.Soundness.Trace.html#356" class="Function">quotTm</a> <a id="1830" href="IK.Norm.Properties.Soundness.Trace.html#1783" class="Bound">x</a>
<a id="1832" class="Comment">-- a neutral element is related to its reflection</a>
<a id="L-reflect"></a><a id="1882" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="1892" class="Symbol">:</a> <a id="1894" class="Symbol">(</a><a id="1895" href="IK.Norm.Properties.Soundness.Trace.html#1895" class="Bound">n</a> <a id="1897" class="Symbol">:</a> <a id="1899" href="IK.Term.NormalForm.Base.html#154" class="Datatype">Ne</a> <a id="1902" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="1904" href="Type.Base.html#172" class="Generalizable">a</a><a id="1905" class="Symbol">)</a>
  <a id="1909" class="Symbol">→</a> <a id="1911" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="1913" href="Type.Base.html#172" class="Generalizable">a</a> <a id="1915" class="Symbol">(</a><a id="1916" href="IK.Term.NormalForm.Base.html#725" class="Function">embNe</a> <a id="1922" href="IK.Norm.Properties.Soundness.Trace.html#1895" class="Bound">n</a><a id="1923" class="Symbol">)</a> <a id="1925" class="Symbol">(</a><a id="1926" href="IK.Norm.NbE.Reification.html#353" class="Function">reflect</a> <a id="1934" href="IK.Norm.Properties.Soundness.Trace.html#1895" class="Bound">n</a><a id="1935" class="Symbol">)</a>

<a id="1938" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="1946" class="Symbol">{</a><a id="1947" class="Argument">a</a> <a id="1949" class="Symbol">=</a> <a id="1951" href="Type.Base.html#96" class="InductiveConstructor">ι</a><a id="1952" class="Symbol">}</a>     <a id="1958" href="IK.Norm.Properties.Soundness.Trace.html#1958" class="Bound">tLn</a>
  <a id="1964" class="Symbol">=</a> <a id="1966" href="IK.Norm.Properties.Soundness.Trace.html#1958" class="Bound">tLn</a>
<a id="1970" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="1978" class="Symbol">{</a><a id="1979" class="Argument">a</a> <a id="1981" class="Symbol">=</a> <a id="1983" href="IK.Norm.Properties.Soundness.Trace.html#1983" class="Bound">a</a> <a id="1985" href="Type.Base.html#107" class="InductiveConstructor Operator">⇒</a> <a id="1987" href="IK.Norm.Properties.Soundness.Trace.html#1987" class="Bound">b</a><a id="1988" class="Symbol">}</a> <a id="1990" href="IK.Norm.Properties.Soundness.Trace.html#1990" class="Bound">tLf</a>
  <a id="1996" class="Symbol">=</a> <a id="1998" href="IK.Term.Reduction.html#2451" class="Function">⟶-multi</a> <a id="2006" href="IK.Term.Reduction.html#731" class="InductiveConstructor">exp-fun</a> <a id="2014" class="Symbol">(</a><a id="2015" href="IK.Term.Reduction.html#3580" class="Function">cong-lam*</a> <a id="2025" class="Symbol">(</a><a id="2026" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="2034" class="Symbol">(</a><a id="2035" href="IK.Norm.Properties.Soundness.Trace.html#1990" class="Bound">tLf</a> <a id="2039" href="Context.Base.html#2446" class="Function">fresh</a> <a id="2045" class="Symbol">(</a><a id="2046" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="2056" class="Symbol">{</a><a id="2057" class="Argument">a</a> <a id="2059" class="Symbol">=</a> <a id="2061" href="IK.Norm.Properties.Soundness.Trace.html#1983" class="Bound">a</a><a id="2062" class="Symbol">}</a> <a id="2064" href="IK.Term.html#257" class="InductiveConstructor">var0</a><a id="2068" class="Symbol">))))</a>
<a id="2073" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="2081" class="Symbol">{</a><a id="2082" class="Argument">a</a> <a id="2084" class="Symbol">=</a> <a id="2086" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="2088" href="IK.Norm.Properties.Soundness.Trace.html#2088" class="Bound">a</a><a id="2089" class="Symbol">}</a>   <a id="2093" href="IK.Norm.Properties.Soundness.Trace.html#2093" class="Bound">tLb</a>
  <a id="2099" class="Symbol">=</a> <a id="2101" href="IK.Term.Reduction.html#2451" class="Function">⟶-multi</a> <a id="2109" href="IK.Term.Reduction.html#909" class="InductiveConstructor">exp-box</a> <a id="2117" class="Symbol">(</a><a id="2118" href="IK.Term.Reduction.html#3333" class="Function">cong-box*</a> <a id="2128" class="Symbol">(</a><a id="2129" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="2137" href="IK.Norm.Properties.Soundness.Trace.html#2093" class="Bound">tLb</a><a id="2140" class="Symbol">))</a>

<a id="2144" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="2154" class="Symbol">{</a><a id="2155" class="Argument">a</a> <a id="2157" class="Symbol">=</a> <a id="2159" href="Type.Base.html#96" class="InductiveConstructor">ι</a><a id="2160" class="Symbol">}</a>     <a id="2166" href="IK.Norm.Properties.Soundness.Trace.html#2166" class="Bound">n</a>
  <a id="2170" class="Symbol">=</a> <a id="2172" href="IK.Term.Reduction.html#1708" class="Function">⟶*-refl</a>
<a id="2180" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="2190" class="Symbol">{</a><a id="2191" class="Argument">a</a> <a id="2193" class="Symbol">=</a> <a id="2195" href="IK.Norm.Properties.Soundness.Trace.html#2195" class="Bound">a</a> <a id="2197" href="Type.Base.html#107" class="InductiveConstructor Operator">⇒</a> <a id="2199" href="IK.Norm.Properties.Soundness.Trace.html#2199" class="Bound">b</a><a id="2200" class="Symbol">}</a> <a id="2202" href="IK.Norm.Properties.Soundness.Trace.html#2202" class="Bound">n</a> <a id="2204" class="Symbol">{</a><a id="2205" href="IK.Norm.Properties.Soundness.Trace.html#2205" class="Bound Operator">_Γ&#39;</a><a id="2208" class="Symbol">}</a> <a id="2210" class="Symbol">{</a><a id="2211" href="IK.Norm.Properties.Soundness.Trace.html#2211" class="Bound Operator">_t</a><a id="2213" class="Symbol">}</a> <a id="2215" class="Symbol">{</a><a id="2216" href="IK.Norm.Properties.Soundness.Trace.html#2216" class="Bound">x</a><a id="2217" class="Symbol">}</a>
  <a id="2221" class="Symbol">=</a> <a id="2223" class="Symbol">λ</a> <a id="2225" href="IK.Norm.Properties.Soundness.Trace.html#2225" class="Bound">w</a> <a id="2227" href="IK.Norm.Properties.Soundness.Trace.html#2227" class="Bound">tLx</a> <a id="2231" class="Symbol">→</a> <a id="2233" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a>
                <a id="2259" class="Symbol">(</a><a id="2260" href="IK.Term.Reduction.html#3973" class="Function">cong-app≡*</a> <a id="2271" class="Symbol">(</a><a id="2272" href="IK.Term.NormalForm.Properties.html#1685" class="Function">nat-embNe</a> <a id="2282" href="IK.Norm.Properties.Soundness.Trace.html#2225" class="Bound">w</a> <a id="2284" href="IK.Norm.Properties.Soundness.Trace.html#2202" class="Bound">n</a><a id="2285" class="Symbol">)</a> <a id="2287" class="Symbol">(</a><a id="2288" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="2296" href="IK.Norm.Properties.Soundness.Trace.html#2227" class="Bound">tLx</a><a id="2299" class="Symbol">))</a>
                <a id="2318" class="Symbol">(</a><a id="2319" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="2329" class="Symbol">(</a><a id="2330" href="IK.Term.NormalForm.Base.html#243" class="InductiveConstructor">app</a> <a id="2334" class="Symbol">(</a><a id="2335" href="IK.Term.NormalForm.Base.html#1220" class="Function">wkNe</a> <a id="2340" href="IK.Norm.Properties.Soundness.Trace.html#2225" class="Bound">w</a> <a id="2342" href="IK.Norm.Properties.Soundness.Trace.html#2202" class="Bound">n</a><a id="2343" class="Symbol">)</a> <a id="2345" class="Symbol">(</a><a id="2346" href="IK.Norm.NbE.Reification.html#326" class="Function">reify</a> <a id="2352" href="IK.Norm.Properties.Soundness.Trace.html#2216" class="Bound">x</a><a id="2353" class="Symbol">)))</a>
<a id="2357" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="2367" class="Symbol">{</a><a id="2368" class="Argument">a</a> <a id="2370" class="Symbol">=</a> <a id="2372" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="2374" href="IK.Norm.Properties.Soundness.Trace.html#2374" class="Bound">a</a><a id="2375" class="Symbol">}</a>   <a id="2379" href="IK.Norm.Properties.Soundness.Trace.html#2379" class="Bound">n</a>
  <a id="2383" class="Symbol">=</a> <a id="2385" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="2395" class="Symbol">(</a><a id="2396" href="IK.Term.NormalForm.Base.html#284" class="InductiveConstructor">unbox</a> <a id="2402" href="IK.Norm.Properties.Soundness.Trace.html#2379" class="Bound">n</a> <a id="2404" href="IK.Term.Base.html#1697" class="InductiveConstructor">new</a><a id="2407" class="Symbol">)</a>

<a id="2410" class="Comment">-- L is invariant under weakening</a>
<a id="wkTmPresL"></a><a id="2444" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="2454" class="Symbol">:</a> <a id="2456" class="Symbol">{</a><a id="2457" href="IK.Norm.Properties.Soundness.Trace.html#2457" class="Bound">t</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="2464" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="2466" href="Type.Base.html#172" class="Generalizable">a</a><a id="2467" class="Symbol">}</a> <a id="2469" class="Symbol">{</a><a id="2470" href="IK.Norm.Properties.Soundness.Trace.html#2470" class="Bound">x</a> <a id="2472" class="Symbol">:</a> <a id="2474" href="IK.Norm.NbE.Model.html#821" class="Function">Tm&#39;</a> <a id="2478" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="2480" href="Type.Base.html#172" class="Generalizable">a</a><a id="2481" class="Symbol">}</a>
  <a id="2485" class="Symbol">→</a> <a id="2487" class="Symbol">(</a><a id="2488" href="IK.Norm.Properties.Soundness.Trace.html#2488" class="Bound">w</a> <a id="2490" class="Symbol">:</a> <a id="2492" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="2494" href="Context.Base.html#1356" class="Datatype Operator">⊆</a> <a id="2496" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a><a id="2498" class="Symbol">)</a>
  <a id="2502" class="Symbol">→</a> <a id="2504" class="Symbol">(</a><a id="2505" href="IK.Norm.Properties.Soundness.Trace.html#2505" class="Bound">tLx</a> <a id="2509" class="Symbol">:</a> <a id="2511" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="2513" href="Type.Base.html#172" class="Generalizable">a</a> <a id="2515" href="IK.Norm.Properties.Soundness.Trace.html#2457" class="Bound">t</a> <a id="2517" href="IK.Norm.Properties.Soundness.Trace.html#2470" class="Bound">x</a><a id="2518" class="Symbol">)</a>
  <a id="2522" class="Symbol">→</a> <a id="2524" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="2526" href="Type.Base.html#172" class="Generalizable">a</a> <a id="2528" class="Symbol">(</a><a id="2529" href="IK.Term.Base.html#1040" class="Function">wkTm</a> <a id="2534" href="IK.Norm.Properties.Soundness.Trace.html#2488" class="Bound">w</a> <a id="2536" href="IK.Norm.Properties.Soundness.Trace.html#2457" class="Bound">t</a><a id="2537" class="Symbol">)</a> <a id="2539" class="Symbol">(</a><a id="2540" href="IK.Norm.NbE.Model.html#1248" class="Function">wkTm&#39;</a> <a id="2546" href="IK.Norm.Properties.Soundness.Trace.html#2488" class="Bound">w</a> <a id="2548" href="IK.Norm.Properties.Soundness.Trace.html#2470" class="Bound">x</a><a id="2549" class="Symbol">)</a>
<a id="2551" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="2561" class="Symbol">{</a><a id="2562" class="Argument">a</a> <a id="2564" class="Symbol">=</a> <a id="2566" href="Type.Base.html#96" class="InductiveConstructor">ι</a><a id="2567" class="Symbol">}</a>     <a id="2573" class="Symbol">{</a><a id="2574" class="Argument">x</a> <a id="2576" class="Symbol">=</a> <a id="2578" href="IK.Norm.Properties.Soundness.Trace.html#2578" class="Bound">x</a><a id="2579" class="Symbol">}</a> <a id="2581" href="IK.Norm.Properties.Soundness.Trace.html#2581" class="Bound">w</a> <a id="2583" href="IK.Norm.Properties.Soundness.Trace.html#2583" class="Bound">tLn</a>
  <a id="2589" class="Symbol">=</a> <a id="2591" href="IK.Term.Reduction.html#2140" class="Function">multi-≡</a> <a id="2599" class="Symbol">(</a><a id="2600" href="IK.Term.Properties.html#14835" class="Function">wkTmPres⟶*</a> <a id="2611" href="IK.Norm.Properties.Soundness.Trace.html#2581" class="Bound">w</a> <a id="2613" href="IK.Norm.Properties.Soundness.Trace.html#2583" class="Bound">tLn</a><a id="2616" class="Symbol">)</a> <a id="2618" class="Symbol">(</a><a id="2619" href="IK.Term.NormalForm.Properties.html#1763" class="Function">nat-embNf</a> <a id="2629" href="IK.Norm.Properties.Soundness.Trace.html#2581" class="Bound">w</a> <a id="2631" class="Symbol">(</a><a id="2632" href="IK.Norm.NbE.Reification.html#326" class="Function">reify</a> <a id="2638" href="IK.Norm.Properties.Soundness.Trace.html#2578" class="Bound">x</a><a id="2639" class="Symbol">))</a>
<a id="2642" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="2652" class="Symbol">{</a><a id="2653" class="Argument">a</a> <a id="2655" class="Symbol">=</a> <a id="2657" href="IK.Norm.Properties.Soundness.Trace.html#2657" class="Bound">a</a> <a id="2659" href="Type.Base.html#107" class="InductiveConstructor Operator">⇒</a> <a id="2661" href="IK.Norm.Properties.Soundness.Trace.html#2661" class="Bound">b</a><a id="2662" class="Symbol">}</a> <a id="2664" class="Symbol">{</a><a id="2665" class="Argument">t</a> <a id="2667" class="Symbol">=</a> <a id="2669" href="IK.Norm.Properties.Soundness.Trace.html#2669" class="Bound">t</a><a id="2670" class="Symbol">}</a> <a id="2672" href="IK.Norm.Properties.Soundness.Trace.html#2672" class="Bound">w</a> <a id="2674" href="IK.Norm.Properties.Soundness.Trace.html#2674" class="Bound">tLf</a>
  <a id="2680" class="Symbol">=</a> <a id="2682" class="Symbol">λ</a> <a id="2684" href="IK.Norm.Properties.Soundness.Trace.html#2684" class="Bound">w&#39;</a> <a id="2687" href="IK.Norm.Properties.Soundness.Trace.html#2687" class="Bound">y</a> <a id="2689" class="Symbol">→</a> <a id="2691" href="IK.Norm.Properties.Soundness.Trace.html#1614" class="Function">L-cast</a> <a id="2698" class="Symbol">(</a><a id="2699" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="2705" href="IK.Term.Base.html#697" class="InductiveConstructor">app</a> <a id="2709" class="Symbol">(</a><a id="2710" href="IK.Term.Properties.html#3236" class="Function">wkTmPres∙</a> <a id="2720" href="IK.Norm.Properties.Soundness.Trace.html#2672" class="Bound">w</a> <a id="2722" href="IK.Norm.Properties.Soundness.Trace.html#2684" class="Bound">w&#39;</a> <a id="2725" href="IK.Norm.Properties.Soundness.Trace.html#2669" class="Bound">t</a><a id="2726" class="Symbol">)</a> <a id="2728" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2732" class="Symbol">)</a> <a id="2734" class="Symbol">(</a><a id="2735" href="IK.Norm.Properties.Soundness.Trace.html#2674" class="Bound">tLf</a> <a id="2739" class="Symbol">(</a><a id="2740" href="IK.Norm.Properties.Soundness.Trace.html#2672" class="Bound">w</a> <a id="2742" href="Context.Base.html#2203" class="Function Operator">∙</a> <a id="2744" href="IK.Norm.Properties.Soundness.Trace.html#2684" class="Bound">w&#39;</a><a id="2746" class="Symbol">)</a> <a id="2748" href="IK.Norm.Properties.Soundness.Trace.html#2687" class="Bound">y</a><a id="2749" class="Symbol">)</a>
<a id="2751" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="2761" class="Symbol">{</a><a id="2762" class="Argument">a</a> <a id="2764" class="Symbol">=</a> <a id="2766" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="2768" href="IK.Norm.Properties.Soundness.Trace.html#2768" class="Bound">a</a><a id="2769" class="Symbol">}</a>           <a id="2781" href="IK.Norm.Properties.Soundness.Trace.html#2781" class="Bound">w</a> <a id="2783" href="IK.Norm.Properties.Soundness.Trace.html#2783" class="Bound">tLb</a>
  <a id="2789" class="Symbol">=</a> <a id="2791" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="2801" class="Symbol">{</a><a id="2802" class="Argument">a</a> <a id="2804" class="Symbol">=</a> <a id="2806" href="IK.Norm.Properties.Soundness.Trace.html#2768" class="Bound">a</a><a id="2807" class="Symbol">}</a> <a id="2809" class="Symbol">(</a><a id="2810" href="Context.Base.html#1483" class="InductiveConstructor">keep#</a> <a id="2816" href="IK.Norm.Properties.Soundness.Trace.html#2781" class="Bound">w</a><a id="2817" class="Symbol">)</a> <a id="2819" href="IK.Norm.Properties.Soundness.Trace.html#2783" class="Bound">tLb</a>

<a id="2824" class="Comment">-- Lₛ is invariant under weakening</a>
<a id="wkSubPresLₛ"></a><a id="2859" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="2871" class="Symbol">:</a> <a id="2873" class="Symbol">{</a><a id="2874" href="IK.Norm.Properties.Soundness.Trace.html#2874" class="Bound">s</a> <a id="2876" class="Symbol">:</a> <a id="2878" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="2882" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="2884" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="2885" class="Symbol">}</a> <a id="2887" class="Symbol">{</a><a id="2888" href="IK.Norm.Properties.Soundness.Trace.html#2888" class="Bound">δ</a> <a id="2890" class="Symbol">:</a> <a id="2892" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="2897" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="2899" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="2900" class="Symbol">}</a>
  <a id="2904" class="Symbol">→</a> <a id="2906" class="Symbol">(</a><a id="2907" href="IK.Norm.Properties.Soundness.Trace.html#2907" class="Bound">w</a> <a id="2909" class="Symbol">:</a> <a id="2911" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="2913" href="Context.Base.html#1356" class="Datatype Operator">⊆</a> <a id="2915" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a><a id="2917" class="Symbol">)</a>
  <a id="2921" class="Symbol">→</a> <a id="2923" class="Symbol">(</a><a id="2924" href="IK.Norm.Properties.Soundness.Trace.html#2924" class="Bound">sLδ</a> <a id="2928" class="Symbol">:</a> <a id="2930" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="2933" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="2935" href="IK.Norm.Properties.Soundness.Trace.html#2874" class="Bound">s</a> <a id="2937" href="IK.Norm.Properties.Soundness.Trace.html#2888" class="Bound">δ</a><a id="2938" class="Symbol">)</a>
  <a id="2942" class="Symbol">→</a> <a id="2944" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="2947" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="2949" class="Symbol">(</a><a id="2950" href="Context.Base.html#11918" class="Function">wkSub</a> <a id="2956" href="IK.Norm.Properties.Soundness.Trace.html#2907" class="Bound">w</a> <a id="2958" href="IK.Norm.Properties.Soundness.Trace.html#2874" class="Bound">s</a><a id="2959" class="Symbol">)</a> <a id="2961" class="Symbol">(</a><a id="2962" href="IK.Norm.NbE.Model.html#1477" class="Function">wkSub&#39;</a> <a id="2969" href="IK.Norm.Properties.Soundness.Trace.html#2907" class="Bound">w</a> <a id="2971" href="IK.Norm.Properties.Soundness.Trace.html#2888" class="Bound">δ</a><a id="2972" class="Symbol">)</a>
<a id="2974" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="2986" class="Symbol">{</a><a id="2987" class="Argument">Δ</a> <a id="2989" class="Symbol">=</a> <a id="2991" href="Context.Base.html#437" class="InductiveConstructor">[]</a><a id="2993" class="Symbol">}</a>      <a id="3000" href="IK.Norm.Properties.Soundness.Trace.html#3000" class="Bound">w</a> <a id="3002" href="IK.Norm.Properties.Soundness.Trace.html#829" class="InductiveConstructor">[]</a>
  <a id="3007" class="Symbol">=</a> <a id="3009" href="IK.Norm.Properties.Soundness.Trace.html#829" class="InductiveConstructor">[]</a>
<a id="3012" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="3024" class="Symbol">{</a><a id="3025" class="Argument">Δ</a> <a id="3027" class="Symbol">=</a> <a id="3029" href="IK.Norm.Properties.Soundness.Trace.html#3029" class="Bound Operator">_Δ</a> <a id="3032" href="Context.Base.html#450" class="InductiveConstructor Operator">`,</a> <a id="3035" href="IK.Norm.Properties.Soundness.Trace.html#3035" class="Bound">a</a><a id="3036" class="Symbol">}</a> <a id="3038" href="IK.Norm.Properties.Soundness.Trace.html#3038" class="Bound">w</a> <a id="3040" class="Symbol">(</a><a id="3041" href="IK.Norm.Properties.Soundness.Trace.html#3041" class="Bound">sLδ</a> <a id="3045" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="3048" href="IK.Norm.Properties.Soundness.Trace.html#3048" class="Bound">tLx</a><a id="3051" class="Symbol">)</a>
  <a id="3055" class="Symbol">=</a> <a id="3057" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="3069" href="IK.Norm.Properties.Soundness.Trace.html#3038" class="Bound">w</a> <a id="3071" href="IK.Norm.Properties.Soundness.Trace.html#3041" class="Bound">sLδ</a> <a id="3075" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="3078" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="3088" class="Symbol">{</a><a id="3089" class="Argument">a</a> <a id="3091" class="Symbol">=</a> <a id="3093" href="IK.Norm.Properties.Soundness.Trace.html#3035" class="Bound">a</a><a id="3094" class="Symbol">}</a> <a id="3096" href="IK.Norm.Properties.Soundness.Trace.html#3038" class="Bound">w</a> <a id="3098" href="IK.Norm.Properties.Soundness.Trace.html#3048" class="Bound">tLx</a>
<a id="3102" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="3114" class="Symbol">{</a><a id="3115" class="Argument">Δ</a> <a id="3117" class="Symbol">=</a> <a id="3119" href="IK.Norm.Properties.Soundness.Trace.html#3119" class="Bound Operator">_Δ</a> <a id="3122" href="Context.Base.html#486" class="InductiveConstructor Operator">#</a><a id="3123" class="Symbol">}</a>    <a id="3128" href="IK.Norm.Properties.Soundness.Trace.html#3128" class="Bound">w</a> <a id="3130" class="Symbol">(</a><a id="3131" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="3136" href="IK.Norm.Properties.Soundness.Trace.html#3136" class="Bound">sLδ</a> <a id="3140" href="IK.Norm.Properties.Soundness.Trace.html#3140" class="Bound">e</a><a id="3141" class="Symbol">)</a>
  <a id="3145" class="Symbol">=</a> <a id="3147" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="3152" class="Symbol">(</a><a id="3153" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="3165" class="Symbol">(</a><a id="3166" href="Context.Base.html#6946" class="Function">sliceLeft</a> <a id="3176" href="IK.Norm.Properties.Soundness.Trace.html#3140" class="Bound">e</a> <a id="3178" href="IK.Norm.Properties.Soundness.Trace.html#3128" class="Bound">w</a><a id="3179" class="Symbol">)</a> <a id="3181" href="IK.Norm.Properties.Soundness.Trace.html#3136" class="Bound">sLδ</a><a id="3184" class="Symbol">)</a> <a id="3186" class="Symbol">(</a><a id="3187" href="Context.Base.html#6511" class="Function">wkLFExt</a> <a id="3195" href="IK.Norm.Properties.Soundness.Trace.html#3140" class="Bound">e</a> <a id="3197" href="IK.Norm.Properties.Soundness.Trace.html#3128" class="Bound">w</a><a id="3198" class="Symbol">)</a>

<a id="3201" class="Comment">-- syntactic identity is related to semantic identity</a>
<a id="idLₛ"></a><a id="3255" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a> <a id="3260" class="Symbol">:</a> <a id="3262" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="3265" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="3267" href="Context.Base.html#12714" class="Function">idₛ</a> <a id="3271" href="IK.Norm.NbE.Reification.html#805" class="Function">idₛ&#39;</a>
<a id="3276" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a> <a id="3281" class="Symbol">{</a><a id="3282" href="Context.Base.html#437" class="InductiveConstructor">[]</a><a id="3284" class="Symbol">}</a>      <a id="3291" class="Symbol">=</a> <a id="3293" href="IK.Norm.Properties.Soundness.Trace.html#829" class="InductiveConstructor">[]</a>
<a id="3296" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a> <a id="3301" class="Symbol">{</a><a id="3302" href="IK.Norm.Properties.Soundness.Trace.html#3302" class="Bound Operator">_Δ</a> <a id="3305" href="Context.Base.html#450" class="InductiveConstructor Operator">`,</a> <a id="3308" href="IK.Norm.Properties.Soundness.Trace.html#3308" class="Bound">a</a><a id="3309" class="Symbol">}</a> <a id="3311" class="Symbol">=</a> <a id="3313" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="3325" href="Context.Base.html#2484" class="Function Operator">fresh[</a> <a id="3332" href="IK.Norm.Properties.Soundness.Trace.html#3308" class="Bound">a</a> <a id="3334" href="Context.Base.html#2484" class="Function Operator">]</a> <a id="3336" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a> <a id="3341" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="3344" href="IK.Norm.Properties.Soundness.Trace.html#1882" class="Function">L-reflect</a> <a id="3354" class="Symbol">{</a><a id="3355" class="Argument">a</a> <a id="3357" class="Symbol">=</a> <a id="3359" href="IK.Norm.Properties.Soundness.Trace.html#3308" class="Bound">a</a><a id="3360" class="Symbol">}</a> <a id="3362" href="IK.Term.html#257" class="InductiveConstructor">var0</a>
<a id="3367" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a> <a id="3372" class="Symbol">{</a><a id="3373" href="IK.Norm.Properties.Soundness.Trace.html#3373" class="Bound Operator">_Δ</a> <a id="3376" href="Context.Base.html#486" class="InductiveConstructor Operator">#</a><a id="3377" class="Symbol">}</a>    <a id="3382" class="Symbol">=</a> <a id="3384" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="3389" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a> <a id="3394" href="Context.Base.html#4035" class="InductiveConstructor">nil</a>

<a id="3399" class="Comment">-----------------------------</a>
<a id="3429" class="Comment">-- The Fundamental Theorem --</a>
<a id="3459" class="Comment">-----------------------------</a>

<a id="3490" class="Comment">-- local lemmas for the proof of fundamental theorem</a>
<a id="3543" class="Keyword">private</a>
  <a id="substVarPresL"></a><a id="3553" href="IK.Norm.Properties.Soundness.Trace.html#3553" class="Function">substVarPresL</a> <a id="3567" class="Symbol">:</a> <a id="3569" class="Symbol">(</a><a id="3570" href="IK.Norm.Properties.Soundness.Trace.html#3570" class="Bound">v</a> <a id="3572" class="Symbol">:</a> <a id="3574" href="Context.Base.html#2565" class="Datatype">Var</a> <a id="3578" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="3580" href="Type.Base.html#172" class="Generalizable">a</a><a id="3581" class="Symbol">)</a> <a id="3583" class="Symbol">{</a><a id="3584" href="IK.Norm.Properties.Soundness.Trace.html#3584" class="Bound">s</a> <a id="3586" class="Symbol">:</a> <a id="3588" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="3592" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="3594" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="3595" class="Symbol">}</a> <a id="3597" class="Symbol">{</a><a id="3598" href="IK.Norm.Properties.Soundness.Trace.html#3598" class="Bound">δ</a> <a id="3600" class="Symbol">:</a> <a id="3602" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="3607" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="3609" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="3610" class="Symbol">}</a>
    <a id="3616" class="Symbol">→</a> <a id="3618" class="Symbol">(</a><a id="3619" href="IK.Norm.Properties.Soundness.Trace.html#3619" class="Bound">sLδ</a> <a id="3623" class="Symbol">:</a> <a id="3625" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="3628" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="3630" href="IK.Norm.Properties.Soundness.Trace.html#3584" class="Bound">s</a> <a id="3632" href="IK.Norm.Properties.Soundness.Trace.html#3598" class="Bound">δ</a><a id="3633" class="Symbol">)</a>
    <a id="3639" class="Symbol">→</a> <a id="3641" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="3643" href="Type.Base.html#172" class="Generalizable">a</a> <a id="3645" class="Symbol">(</a><a id="3646" href="Context.Base.html#11771" class="Function">substVar</a> <a id="3655" href="IK.Norm.Properties.Soundness.Trace.html#3584" class="Bound">s</a> <a id="3657" href="IK.Norm.Properties.Soundness.Trace.html#3570" class="Bound">v</a><a id="3658" class="Symbol">)</a> <a id="3660" class="Symbol">(</a><a id="3661" href="IK.Norm.NbE.Model.html#2005" class="Function">substVar&#39;</a> <a id="3671" href="IK.Norm.Properties.Soundness.Trace.html#3570" class="Bound">v</a> <a id="3673" href="IK.Norm.Properties.Soundness.Trace.html#3598" class="Bound">δ</a><a id="3674" class="Symbol">)</a>
  <a id="3678" href="IK.Norm.Properties.Soundness.Trace.html#3553" class="Function">substVarPresL</a> <a id="3692" href="Context.Base.html#2594" class="InductiveConstructor">zero</a>     <a id="3701" class="Symbol">(</a><a id="3702" href="IK.Norm.Properties.Soundness.Trace.html#3702" class="Bound Operator">_sLδ</a> <a id="3707" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="3710" href="IK.Norm.Properties.Soundness.Trace.html#3710" class="Bound">tLx</a><a id="3713" class="Symbol">)</a>  <a id="3716" class="Symbol">=</a> <a id="3718" href="IK.Norm.Properties.Soundness.Trace.html#3710" class="Bound">tLx</a>
  <a id="3724" href="IK.Norm.Properties.Soundness.Trace.html#3553" class="Function">substVarPresL</a> <a id="3738" class="Symbol">(</a><a id="3739" href="Context.Base.html#2618" class="InductiveConstructor">succ</a> <a id="3744" href="IK.Norm.Properties.Soundness.Trace.html#3744" class="Bound">v</a><a id="3745" class="Symbol">)</a> <a id="3747" class="Symbol">(</a><a id="3748" href="IK.Norm.Properties.Soundness.Trace.html#3748" class="Bound">sLδ</a>  <a id="3753" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="3756" href="IK.Norm.Properties.Soundness.Trace.html#3756" class="Bound Operator">_tLx</a><a id="3760" class="Symbol">)</a> <a id="3762" class="Symbol">=</a> <a id="3764" href="IK.Norm.Properties.Soundness.Trace.html#3553" class="Function">substVarPresL</a> <a id="3778" href="IK.Norm.Properties.Soundness.Trace.html#3744" class="Bound">v</a> <a id="3780" href="IK.Norm.Properties.Soundness.Trace.html#3748" class="Bound">sLδ</a>

  <a id="beta-lemma"></a><a id="3787" href="IK.Norm.Properties.Soundness.Trace.html#3787" class="Function">beta-lemma</a> <a id="3798" class="Symbol">:</a> <a id="3800" class="Symbol">(</a><a id="3801" href="IK.Norm.Properties.Soundness.Trace.html#3801" class="Bound">w</a> <a id="3803" class="Symbol">:</a> <a id="3805" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="3807" href="Context.Base.html#1356" class="Datatype Operator">⊆</a> <a id="3809" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a><a id="3811" class="Symbol">)</a> <a id="3813" class="Symbol">(</a><a id="3814" href="IK.Norm.Properties.Soundness.Trace.html#3814" class="Bound">s</a> <a id="3816" class="Symbol">:</a> <a id="3818" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="3822" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="3824" href="Context.Base.html#655" class="Generalizable">Δ</a><a id="3825" class="Symbol">)</a> <a id="3827" class="Symbol">(</a><a id="3828" href="IK.Norm.Properties.Soundness.Trace.html#3828" class="Bound">t</a> <a id="3830" class="Symbol">:</a> <a id="3832" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="3838" class="InductiveConstructor Operator">`,</a> <a id="3841" href="Type.Base.html#172" class="Generalizable">a</a><a id="3842" class="Symbol">)</a> <a id="3844" href="Type.Base.html#174" class="Generalizable">b</a><a id="3845" class="Symbol">)</a> <a id="3847" class="Symbol">(</a><a id="3848" href="IK.Norm.Properties.Soundness.Trace.html#3848" class="Bound">u</a> <a id="3850" class="Symbol">:</a> <a id="3852" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="3855" href="Context.Base.html#600" class="Generalizable">Γ&#39;</a> <a id="3858" href="Type.Base.html#172" class="Generalizable">a</a><a id="3859" class="Symbol">)</a>
    <a id="3865" class="Symbol">→</a> <a id="3867" class="InductiveConstructor">app</a> <a id="3871" class="Symbol">(</a><a id="3872" href="IK.Term.Base.html#1040" class="Function">wkTm</a> <a id="3877" href="IK.Norm.Properties.Soundness.Trace.html#3801" class="Bound">w</a> <a id="3879" class="Symbol">(</a><a id="3880" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="3888" href="IK.Norm.Properties.Soundness.Trace.html#3814" class="Bound">s</a> <a id="3890" class="Symbol">(</a><a id="3891" class="InductiveConstructor">lam</a> <a id="3895" href="IK.Norm.Properties.Soundness.Trace.html#3828" class="Bound">t</a><a id="3896" class="Symbol">)))</a> <a id="3900" href="IK.Norm.Properties.Soundness.Trace.html#3848" class="Bound">u</a> <a id="3902" href="IK.Term.Reduction.html#1693" class="Function Operator">⟶*</a> <a id="3905" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="3913" class="Symbol">(</a><a id="3914" href="Context.Base.html#11918" class="Function">wkSub</a> <a id="3920" href="IK.Norm.Properties.Soundness.Trace.html#3801" class="Bound">w</a> <a id="3922" href="IK.Norm.Properties.Soundness.Trace.html#3814" class="Bound">s</a> <a id="3924" class="InductiveConstructor Operator">`,</a> <a id="3927" href="IK.Norm.Properties.Soundness.Trace.html#3848" class="Bound">u</a><a id="3928" class="Symbol">)</a> <a id="3930" href="IK.Norm.Properties.Soundness.Trace.html#3828" class="Bound">t</a>
  <a id="3934" href="IK.Norm.Properties.Soundness.Trace.html#3787" class="Function">beta-lemma</a> <a id="3945" href="IK.Norm.Properties.Soundness.Trace.html#3945" class="Bound">w</a> <a id="3947" href="IK.Norm.Properties.Soundness.Trace.html#3947" class="Bound">s</a> <a id="3949" href="IK.Norm.Properties.Soundness.Trace.html#3949" class="Bound">t</a> <a id="3951" href="IK.Norm.Properties.Soundness.Trace.html#3951" class="Bound">u</a> <a id="3953" class="Symbol">=</a> <a id="3955" href="IK.Term.Reduction.html#2006" class="Function">≡-single-≡</a>
    <a id="3970" class="Symbol">(</a><a id="3971" href="PEUtil.html#642" class="Function">cong1</a> <a id="3977" href="IK.Term.Base.html#697" class="InductiveConstructor">app</a> <a id="3981" class="Symbol">(</a><a id="3982" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3987" href="IK.Term.Base.html#616" class="InductiveConstructor">lam</a> <a id="3991" class="Symbol">(</a><a id="3992" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
      <a id="4004" class="Symbol">(</a><a id="4005" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="4009" class="Symbol">(</a><a id="4010" href="IK.Term.Properties.html#4489" class="Function">nat-subsTm</a> <a id="4021" href="IK.Norm.Properties.Soundness.Trace.html#3949" class="Bound">t</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Context.Base.html#12314" class="Function">keepₛ</a> <a id="4030" href="IK.Norm.Properties.Soundness.Trace.html#3947" class="Bound">s</a><a id="4031" class="Symbol">)</a> <a id="4033" class="Symbol">(</a><a id="4034" href="Context.Base.html#1442" class="InductiveConstructor">keep</a> <a id="4039" href="IK.Norm.Properties.Soundness.Trace.html#3945" class="Bound">w</a><a id="4040" class="Symbol">)))</a>
      <a id="4050" class="Symbol">(</a><a id="4051" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4056" class="Symbol">(λ</a> <a id="4059" href="IK.Norm.Properties.Soundness.Trace.html#4059" class="Bound">p</a> <a id="4061" class="Symbol">→</a> <a id="4063" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="4071" class="Symbol">(</a><a id="4072" href="IK.Norm.Properties.Soundness.Trace.html#4059" class="Bound">p</a> <a id="4074" href="Context.Base.html#11195" class="InductiveConstructor Operator">`,</a> <a id="4077" href="IK.Term.html#257" class="InductiveConstructor">var0</a><a id="4081" class="Symbol">)</a> <a id="4083" href="IK.Norm.Properties.Soundness.Trace.html#3949" class="Bound">t</a><a id="4084" class="Symbol">)</a>
        <a id="4094" class="Symbol">(</a><a id="4095" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
          <a id="4111" class="Symbol">(</a><a id="4112" href="IK.Term.Properties.html#3809" class="Function">wkSubPres∙</a> <a id="4123" href="Context.Base.html#2446" class="Function">fresh</a> <a id="4129" class="Symbol">(</a><a id="4130" href="Context.Base.html#1442" class="InductiveConstructor">keep</a> <a id="4135" href="IK.Norm.Properties.Soundness.Trace.html#3945" class="Bound">w</a><a id="4136" class="Symbol">)</a> <a id="4138" href="IK.Norm.Properties.Soundness.Trace.html#3947" class="Bound">s</a><a id="4139" class="Symbol">)</a>
          <a id="4151" class="Symbol">(</a><a id="4152" href="PEUtil.html#642" class="Function">cong1</a> <a id="4158" href="Context.Base.html#11918" class="Function">wkSub</a> <a id="4164" class="Symbol">(</a><a id="4165" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4170" href="Context.Base.html#1406" class="InductiveConstructor">drop</a> <a id="4175" class="Symbol">(</a><a id="4176" href="Context.Properties.html#4146" class="Function">leftIdWk</a> <a id="4185" href="IK.Norm.Properties.Soundness.Trace.html#3945" class="Bound">w</a><a id="4186" class="Symbol">))))))))</a>
    <a id="4199" href="IK.Term.Reduction.html#642" class="InductiveConstructor">red-fun</a>
    <a id="4211" class="Symbol">(</a><a id="4212" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
      <a id="4224" class="Symbol">(</a><a id="4225" href="IK.Term.Properties.html#10371" class="Function">substTmPres∙</a> <a id="4238" class="Symbol">_</a> <a id="4240" class="Symbol">_</a> <a id="4242" href="IK.Norm.Properties.Soundness.Trace.html#3949" class="Bound">t</a> <a id="4244" class="Symbol">)</a>
      <a id="4252" class="Symbol">(</a><a id="4253" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4258" class="Symbol">(λ</a> <a id="4261" href="IK.Norm.Properties.Soundness.Trace.html#4261" class="Bound">p</a> <a id="4263" class="Symbol">→</a> <a id="4265" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="4273" class="Symbol">(</a><a id="4274" href="IK.Norm.Properties.Soundness.Trace.html#4261" class="Bound">p</a> <a id="4276" href="Context.Base.html#11195" class="InductiveConstructor Operator">`,</a> <a id="4279" href="IK.Norm.Properties.Soundness.Trace.html#3951" class="Bound">u</a><a id="4280" class="Symbol">)</a> <a id="4282" href="IK.Norm.Properties.Soundness.Trace.html#3949" class="Bound">t</a><a id="4283" class="Symbol">)</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
        <a id="4300" class="Symbol">(</a><a id="4301" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="4305" class="Symbol">(</a><a id="4306" href="IK.Term.Properties.html#6885" class="Function">coh-trimSub-wkSub</a> <a id="4324" href="IK.Norm.Properties.Soundness.Trace.html#3947" class="Bound">s</a> <a id="4326" class="Symbol">_</a> <a id="4328" class="Symbol">_))</a>
        <a id="4340" class="Symbol">(</a><a id="4341" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="4347" class="Symbol">(</a><a id="4348" href="IK.Term.Properties.html#6885" class="Function">coh-trimSub-wkSub</a> <a id="4366" href="IK.Norm.Properties.Soundness.Trace.html#3947" class="Bound">s</a> <a id="4368" href="Context.Base.html#12714" class="Function">idₛ</a> <a id="4372" href="IK.Norm.Properties.Soundness.Trace.html#3945" class="Bound">w</a><a id="4373" class="Symbol">)</a> <a id="4375" class="Symbol">(</a><a id="4376" href="IK.Term.Properties.html#11375" class="Function">rightIdSub</a> <a id="4387" class="Symbol">_)))))</a>

  <a id="box-beta-lemma"></a><a id="4397" href="IK.Norm.Properties.Soundness.Trace.html#4397" class="Function">box-beta-lemma</a> <a id="4412" class="Symbol">:</a> <a id="4414" class="Symbol">(</a><a id="4415" href="IK.Norm.Properties.Soundness.Trace.html#4415" class="Bound">t</a> <a id="4417" class="Symbol">:</a> <a id="4419" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="4422" class="Symbol">(</a><a id="4423" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="4425" href="Context.Base.html#486" class="InductiveConstructor Operator">#</a><a id="4426" class="Symbol">)</a> <a id="4428" href="Type.Base.html#172" class="Generalizable">a</a><a id="4429" class="Symbol">)</a> <a id="4431" class="Symbol">→</a> <a id="4433" class="InductiveConstructor">unbox</a> <a id="4439" class="Symbol">(</a><a id="4440" class="InductiveConstructor">box</a> <a id="4444" href="IK.Norm.Properties.Soundness.Trace.html#4415" class="Bound">t</a><a id="4445" class="Symbol">)</a> <a id="4447" href="IK.Term.Base.html#1697" class="InductiveConstructor">new</a> <a id="4451" href="IK.Term.Reduction.html#1693" class="Function Operator">⟶*</a> <a id="4454" href="IK.Norm.Properties.Soundness.Trace.html#4415" class="Bound">t</a>
  <a id="4458" href="IK.Norm.Properties.Soundness.Trace.html#4397" class="Function">box-beta-lemma</a> <a id="4473" href="IK.Norm.Properties.Soundness.Trace.html#4473" class="Bound">t</a> <a id="4475" class="Symbol">=</a> <a id="4477" href="IK.Term.Reduction.html#1814" class="Function">single-≡</a> <a id="4486" href="IK.Term.Reduction.html#809" class="InductiveConstructor">red-box</a> <a id="4494" class="Symbol">(</a><a id="4495" href="IK.Term.Properties.html#2413" class="Function">wkTmPresId</a> <a id="4506" href="IK.Norm.Properties.Soundness.Trace.html#4473" class="Bound">t</a><a id="4507" class="Symbol">)</a>

  <a id="4512" class="Keyword">module</a> <a id="4519" href="IK.Norm.Properties.Soundness.Trace.html#4519" class="Module">_</a> <a id="4521" class="Symbol">{</a><a id="4522" href="IK.Norm.Properties.Soundness.Trace.html#4522" class="Bound">t</a> <a id="4524" class="Symbol">:</a> <a id="4526" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="4529" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="4531" class="Symbol">(</a><a id="4532" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="4534" href="Type.Base.html#172" class="Generalizable">a</a><a id="4535" class="Symbol">)}</a> <a id="4538" class="Symbol">{</a><a id="4539" href="IK.Norm.Properties.Soundness.Trace.html#4539" class="Bound">b</a> <a id="4541" class="Symbol">:</a> <a id="4543" href="IK.Norm.NbE.Model.html#502" class="Record">Box</a> <a id="4547" class="Symbol">(</a><a id="4548" href="IK.Norm.NbE.Model.html#966" class="Function">Tm&#39;-</a> <a id="4553" href="Type.Base.html#172" class="Generalizable">a</a><a id="4554" class="Symbol">)</a> <a id="4556" href="Context.Base.html#598" class="Generalizable">Γ</a><a id="4557" class="Symbol">}</a> <a id="4559" class="Keyword">where</a>
    <a id="4569" href="IK.Norm.Properties.Soundness.Trace.html#4569" class="Function">unboxPresL</a> <a id="4580" class="Symbol">:</a> <a id="4582" class="Symbol">(</a><a id="4583" href="IK.Norm.Properties.Soundness.Trace.html#4583" class="Bound">tLb</a> <a id="4587" class="Symbol">:</a> <a id="4589" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="4591" class="Symbol">(</a><a id="4592" href="Type.Base.html#140" class="InductiveConstructor Operator">□</a> <a id="4594" href="IK.Norm.Properties.Soundness.Trace.html#4534" class="Bound">a</a><a id="4595" class="Symbol">)</a> <a id="4597" href="IK.Norm.Properties.Soundness.Trace.html#4522" class="Bound">t</a> <a id="4599" href="IK.Norm.Properties.Soundness.Trace.html#4539" class="Bound">b</a><a id="4600" class="Symbol">)</a>
      <a id="4608" class="Symbol">→</a> <a id="4610" class="Symbol">(</a><a id="4611" href="IK.Norm.Properties.Soundness.Trace.html#4611" class="Bound">e</a> <a id="4613" class="Symbol">:</a> <a id="4615" href="Context.Base.html#4737" class="Function">LFExt</a> <a id="4621" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="4623" class="Symbol">(</a><a id="4624" href="IK.Norm.Properties.Soundness.Trace.html#4529" class="Bound">Γ</a> <a id="4626" href="Context.Base.html#486" class="InductiveConstructor Operator">#</a><a id="4627" class="Symbol">)</a> <a id="4629" href="Context.Base.html#627" class="Generalizable">ΓR</a><a id="4631" class="Symbol">)</a>
      <a id="4639" class="Symbol">→</a> <a id="4641" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="4643" href="IK.Norm.Properties.Soundness.Trace.html#4534" class="Bound">a</a> <a id="4645" class="Symbol">(</a><a id="4646" href="IK.Term.Base.html#868" class="InductiveConstructor">unbox</a> <a id="4652" href="IK.Norm.Properties.Soundness.Trace.html#4522" class="Bound">t</a> <a id="4654" href="IK.Norm.Properties.Soundness.Trace.html#4611" class="Bound">e</a><a id="4655" class="Symbol">)</a> <a id="4657" class="Symbol">(</a><a id="4658" href="IK.Norm.NbE.Model.html#1739" class="Function">unbox&#39;</a> <a id="4665" href="IK.Norm.Properties.Soundness.Trace.html#4539" class="Bound">b</a> <a id="4667" href="IK.Norm.Properties.Soundness.Trace.html#4611" class="Bound">e</a><a id="4668" class="Symbol">)</a>
    <a id="4674" href="IK.Norm.Properties.Soundness.Trace.html#4569" class="Function">unboxPresL</a> <a id="4685" href="IK.Norm.Properties.Soundness.Trace.html#4685" class="Bound">tLb</a> <a id="4689" href="IK.Norm.Properties.Soundness.Trace.html#4689" class="Bound">e</a> <a id="4691" class="Symbol">=</a>
      <a id="4699" href="IK.Norm.Properties.Soundness.Trace.html#1614" class="Function">L-cast</a> <a id="4706" class="Symbol">(</a><a id="4707" href="IK.Term.Properties.html#9362" class="Function">unbox-universal</a> <a id="4723" href="IK.Norm.Properties.Soundness.Trace.html#4522" class="Bound">t</a> <a id="4725" href="IK.Norm.Properties.Soundness.Trace.html#4689" class="Bound">e</a><a id="4726" class="Symbol">)</a> <a id="4728" class="Symbol">(</a><a id="4729" href="IK.Norm.Properties.Soundness.Trace.html#2444" class="Function">wkTmPresL</a> <a id="4739" class="Symbol">{</a><a id="4740" class="Argument">a</a> <a id="4742" class="Symbol">=</a> <a id="4744" href="IK.Norm.Properties.Soundness.Trace.html#4534" class="Bound">a</a><a id="4745" class="Symbol">}</a> <a id="4747" class="Symbol">(</a><a id="4748" href="Context.Base.html#6006" class="Function">LFExtToWk</a> <a id="4758" href="IK.Norm.Properties.Soundness.Trace.html#4689" class="Bound">e</a><a id="4759" class="Symbol">)</a> <a id="4761" href="IK.Norm.Properties.Soundness.Trace.html#4685" class="Bound">tLb</a><a id="4764" class="Symbol">)</a>

<a id="4767" class="Comment">-- The Fundamental theorem, for terms</a>

<a id="Fund"></a><a id="4806" href="IK.Norm.Properties.Soundness.Trace.html#4806" class="Function">Fund</a> <a id="4811" class="Symbol">:</a> <a id="4813" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="4816" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="4818" href="Type.Base.html#172" class="Generalizable">a</a> <a id="4820" class="Symbol">→</a> <a id="4822" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="4826" href="IK.Norm.Properties.Soundness.Trace.html#4806" class="Function">Fund</a> <a id="4831" class="Symbol">{</a><a id="4832" href="IK.Norm.Properties.Soundness.Trace.html#4832" class="Bound">Δ</a><a id="4833" class="Symbol">}</a> <a id="4835" class="Symbol">{</a><a id="4836" href="IK.Norm.Properties.Soundness.Trace.html#4836" class="Bound">a</a><a id="4837" class="Symbol">}</a> <a id="4839" href="IK.Norm.Properties.Soundness.Trace.html#4839" class="Bound">t</a> <a id="4841" class="Symbol">=</a> <a id="4843" class="Symbol">∀</a> <a id="4845" class="Symbol">{</a><a id="4846" href="IK.Norm.Properties.Soundness.Trace.html#4846" class="Bound">Γ</a><a id="4847" class="Symbol">}</a> <a id="4849" class="Symbol">{</a><a id="4850" href="IK.Norm.Properties.Soundness.Trace.html#4850" class="Bound">s</a> <a id="4852" class="Symbol">:</a> <a id="4854" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="4858" href="IK.Norm.Properties.Soundness.Trace.html#4846" class="Bound">Γ</a> <a id="4860" href="IK.Norm.Properties.Soundness.Trace.html#4832" class="Bound">Δ</a><a id="4861" class="Symbol">}</a> <a id="4863" class="Symbol">{</a><a id="4864" href="IK.Norm.Properties.Soundness.Trace.html#4864" class="Bound">δ</a> <a id="4866" class="Symbol">:</a> <a id="4868" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="4873" href="IK.Norm.Properties.Soundness.Trace.html#4846" class="Bound">Γ</a> <a id="4875" href="IK.Norm.Properties.Soundness.Trace.html#4832" class="Bound">Δ</a><a id="4876" class="Symbol">}</a>
                   <a id="4897" class="Symbol">→</a> <a id="4899" class="Symbol">(</a><a id="4900" href="IK.Norm.Properties.Soundness.Trace.html#4900" class="Bound">sLδ</a> <a id="4904" class="Symbol">:</a> <a id="4906" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="4909" href="IK.Norm.Properties.Soundness.Trace.html#4832" class="Bound">Δ</a> <a id="4911" href="IK.Norm.Properties.Soundness.Trace.html#4850" class="Bound">s</a> <a id="4913" href="IK.Norm.Properties.Soundness.Trace.html#4864" class="Bound">δ</a><a id="4914" class="Symbol">)</a>
                   <a id="4935" class="Symbol">→</a> <a id="4937" href="IK.Norm.Properties.Soundness.Trace.html#483" class="Function">L</a> <a id="4939" href="IK.Norm.Properties.Soundness.Trace.html#4836" class="Bound">a</a> <a id="4941" class="Symbol">(</a><a id="4942" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="4950" href="IK.Norm.Properties.Soundness.Trace.html#4850" class="Bound">s</a> <a id="4952" href="IK.Norm.Properties.Soundness.Trace.html#4839" class="Bound">t</a><a id="4953" class="Symbol">)</a> <a id="4955" class="Symbol">(</a><a id="4956" href="IK.Norm.NbE.Model.html#2302" class="Function">eval</a> <a id="4961" href="IK.Norm.Properties.Soundness.Trace.html#4839" class="Bound">t</a> <a id="4963" href="IK.Norm.Properties.Soundness.Trace.html#4864" class="Bound">δ</a><a id="4964" class="Symbol">)</a>

<a id="fund"></a><a id="4967" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="4972" class="Symbol">:</a> <a id="4974" class="Symbol">(</a><a id="4975" href="IK.Norm.Properties.Soundness.Trace.html#4975" class="Bound">t</a> <a id="4977" class="Symbol">:</a> <a id="4979" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="4982" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="4984" href="Type.Base.html#172" class="Generalizable">a</a><a id="4985" class="Symbol">)</a> <a id="4987" class="Symbol">→</a> <a id="4989" href="IK.Norm.Properties.Soundness.Trace.html#4806" class="Function">Fund</a> <a id="4994" href="IK.Norm.Properties.Soundness.Trace.html#4975" class="Bound">t</a>
<a id="4996" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5001" class="Symbol">(</a><a id="5002" href="IK.Term.Base.html#553" class="InductiveConstructor">var</a> <a id="5006" href="IK.Norm.Properties.Soundness.Trace.html#5006" class="Bound">v</a><a id="5007" class="Symbol">)</a>              <a id="5022" href="IK.Norm.Properties.Soundness.Trace.html#5022" class="Bound">sLδ</a>
  <a id="5028" class="Symbol">=</a> <a id="5030" href="IK.Norm.Properties.Soundness.Trace.html#3553" class="Function">substVarPresL</a> <a id="5044" href="IK.Norm.Properties.Soundness.Trace.html#5006" class="Bound">v</a> <a id="5046" href="IK.Norm.Properties.Soundness.Trace.html#5022" class="Bound">sLδ</a>
<a id="5050" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5055" class="Symbol">(</a><a id="5056" href="IK.Term.Base.html#616" class="InductiveConstructor">lam</a> <a id="5060" href="IK.Norm.Properties.Soundness.Trace.html#5060" class="Bound">t</a><a id="5061" class="Symbol">)</a>       <a id="5069" class="Symbol">{</a><a id="5070" href="IK.Norm.Properties.Soundness.Trace.html#5070" class="Bound Operator">_Γ</a><a id="5072" class="Symbol">}</a> <a id="5074" class="Symbol">{</a><a id="5075" href="IK.Norm.Properties.Soundness.Trace.html#5075" class="Bound">s</a><a id="5076" class="Symbol">}</a> <a id="5078" href="IK.Norm.Properties.Soundness.Trace.html#5078" class="Bound">sLδ</a> <a id="5082" class="Symbol">{</a><a id="5083" href="IK.Norm.Properties.Soundness.Trace.html#5083" class="Bound Operator">_Γ&#39;</a><a id="5086" class="Symbol">}</a> <a id="5088" class="Symbol">{</a><a id="5089" href="IK.Norm.Properties.Soundness.Trace.html#5089" class="Bound">u</a><a id="5090" class="Symbol">}</a>
  <a id="5094" class="Symbol">=</a> <a id="5096" class="Symbol">λ</a> <a id="5098" href="IK.Norm.Properties.Soundness.Trace.html#5098" class="Bound">w</a> <a id="5100" href="IK.Norm.Properties.Soundness.Trace.html#5100" class="Bound">uLx</a> <a id="5104" class="Symbol">→</a> <a id="5106" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="5116" class="Symbol">(</a><a id="5117" href="IK.Norm.Properties.Soundness.Trace.html#3787" class="Function">beta-lemma</a> <a id="5128" href="IK.Norm.Properties.Soundness.Trace.html#5098" class="Bound">w</a> <a id="5130" href="IK.Norm.Properties.Soundness.Trace.html#5075" class="Bound">s</a> <a id="5132" href="IK.Norm.Properties.Soundness.Trace.html#5060" class="Bound">t</a> <a id="5134" href="IK.Norm.Properties.Soundness.Trace.html#5089" class="Bound">u</a><a id="5135" class="Symbol">)</a>
      <a id="5143" class="Symbol">(</a><a id="5144" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5149" href="IK.Norm.Properties.Soundness.Trace.html#5060" class="Bound">t</a> <a id="5151" class="Symbol">{</a><a id="5152" class="Argument">s</a> <a id="5154" class="Symbol">=</a> <a id="5156" href="Context.Base.html#11918" class="Function">wkSub</a> <a id="5162" href="IK.Norm.Properties.Soundness.Trace.html#5098" class="Bound">w</a> <a id="5164" href="IK.Norm.Properties.Soundness.Trace.html#5075" class="Bound">s</a> <a id="5166" href="Context.Base.html#11195" class="InductiveConstructor Operator">`,</a> <a id="5169" href="IK.Norm.Properties.Soundness.Trace.html#5089" class="Bound">u</a><a id="5170" class="Symbol">}</a> <a id="5172" class="Symbol">(</a><a id="5173" href="IK.Norm.Properties.Soundness.Trace.html#2859" class="Function">wkSubPresLₛ</a> <a id="5185" href="IK.Norm.Properties.Soundness.Trace.html#5098" class="Bound">w</a> <a id="5187" href="IK.Norm.Properties.Soundness.Trace.html#5078" class="Bound">sLδ</a> <a id="5191" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="5194" href="IK.Norm.Properties.Soundness.Trace.html#5100" class="Bound">uLx</a><a id="5197" class="Symbol">))</a>
<a id="5200" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5205" class="Symbol">(</a><a id="5206" href="IK.Term.Base.html#697" class="InductiveConstructor">app</a> <a id="5210" href="IK.Norm.Properties.Soundness.Trace.html#5210" class="Bound">t</a> <a id="5212" href="IK.Norm.Properties.Soundness.Trace.html#5212" class="Bound">u</a><a id="5213" class="Symbol">)</a>     <a id="5219" class="Symbol">{</a><a id="5220" href="IK.Norm.Properties.Soundness.Trace.html#5220" class="Bound Operator">_Γ</a><a id="5222" class="Symbol">}</a> <a id="5224" class="Symbol">{</a><a id="5225" href="IK.Norm.Properties.Soundness.Trace.html#5225" class="Bound">s</a><a id="5226" class="Symbol">}</a> <a id="5228" href="IK.Norm.Properties.Soundness.Trace.html#5228" class="Bound">sLδ</a>
  <a id="5234" class="Symbol">=</a> <a id="5236" href="IK.Norm.Properties.Soundness.Trace.html#1614" class="Function">L-cast</a> <a id="5243" class="Symbol">(</a><a id="5244" href="PEUtil.html#642" class="Function">cong1</a> <a id="5250" href="IK.Term.Base.html#697" class="InductiveConstructor">app</a> <a id="5254" class="Symbol">(</a><a id="5255" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="5259" class="Symbol">(</a><a id="5260" href="IK.Term.Properties.html#2413" class="Function">wkTmPresId</a> <a id="5271" class="Symbol">(</a><a id="5272" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="5280" href="IK.Norm.Properties.Soundness.Trace.html#5225" class="Bound">s</a> <a id="5282" href="IK.Norm.Properties.Soundness.Trace.html#5210" class="Bound">t</a><a id="5283" class="Symbol">))))</a>
      <a id="5294" class="Symbol">(</a><a id="5295" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5300" href="IK.Norm.Properties.Soundness.Trace.html#5210" class="Bound">t</a> <a id="5302" href="IK.Norm.Properties.Soundness.Trace.html#5228" class="Bound">sLδ</a> <a id="5306" href="Context.Base.html#2129" class="Function">idWk</a> <a id="5311" class="Symbol">(</a><a id="5312" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5317" href="IK.Norm.Properties.Soundness.Trace.html#5212" class="Bound">u</a> <a id="5319" href="IK.Norm.Properties.Soundness.Trace.html#5228" class="Bound">sLδ</a><a id="5322" class="Symbol">))</a>
<a id="5325" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5330" class="Symbol">(</a><a id="5331" href="IK.Term.Base.html#792" class="InductiveConstructor">box</a> <a id="5335" href="IK.Norm.Properties.Soundness.Trace.html#5335" class="Bound">t</a><a id="5336" class="Symbol">)</a>       <a id="5344" class="Symbol">{</a><a id="5345" href="IK.Norm.Properties.Soundness.Trace.html#5345" class="Bound Operator">_Γ</a><a id="5347" class="Symbol">}</a> <a id="5349" class="Symbol">{</a><a id="5350" href="IK.Norm.Properties.Soundness.Trace.html#5350" class="Bound">s</a><a id="5351" class="Symbol">}</a>        <a id="5360" href="IK.Norm.Properties.Soundness.Trace.html#5360" class="Bound">sRδ</a>
  <a id="5366" class="Symbol">=</a> <a id="5368" href="IK.Norm.Properties.Soundness.Trace.html#1265" class="Function">L-prepend</a> <a id="5378" class="Symbol">(</a><a id="5379" href="IK.Norm.Properties.Soundness.Trace.html#4397" class="Function">box-beta-lemma</a> <a id="5394" class="Symbol">(</a><a id="5395" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="5403" class="Symbol">(</a><a id="5404" href="Context.Base.html#12425" class="Function">keep#ₛ</a> <a id="5411" href="IK.Norm.Properties.Soundness.Trace.html#5350" class="Bound">s</a><a id="5412" class="Symbol">)</a> <a id="5414" href="IK.Norm.Properties.Soundness.Trace.html#5335" class="Bound">t</a><a id="5415" class="Symbol">))</a> <a id="5418" class="Symbol">(</a><a id="5419" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5424" href="IK.Norm.Properties.Soundness.Trace.html#5335" class="Bound">t</a> <a id="5426" class="Symbol">(</a><a id="5427" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="5432" href="IK.Norm.Properties.Soundness.Trace.html#5360" class="Bound">sRδ</a> <a id="5436" href="IK.Term.Base.html#1697" class="InductiveConstructor">new</a><a id="5439" class="Symbol">))</a>
<a id="5442" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5447" class="Symbol">(</a><a id="5448" href="IK.Term.Base.html#868" class="InductiveConstructor">unbox</a> <a id="5454" href="IK.Norm.Properties.Soundness.Trace.html#5454" class="Bound">t</a> <a id="5456" href="Context.Base.html#4035" class="InductiveConstructor">nil</a><a id="5459" class="Symbol">)</a> <a id="5461" class="Symbol">{</a><a id="5462" href="IK.Norm.Properties.Soundness.Trace.html#5462" class="Bound Operator">_Γ</a><a id="5464" class="Symbol">}</a> <a id="5466" class="Symbol">{</a><a id="5467" href="Context.Base.html#11258" class="InductiveConstructor">lock</a> <a id="5472" href="IK.Norm.Properties.Soundness.Trace.html#5472" class="Bound">s</a> <a id="5474" href="IK.Norm.Properties.Soundness.Trace.html#5474" class="Bound">e</a><a id="5475" class="Symbol">}</a> <a id="5477" class="Symbol">(</a><a id="5478" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="5483" href="IK.Norm.Properties.Soundness.Trace.html#5483" class="Bound">sRδ</a> <a id="5487" href="IK.Norm.Properties.Soundness.Trace.html#5474" class="Bound">e</a><a id="5488" class="Symbol">)</a>
  <a id="5492" class="Symbol">=</a> <a id="5494" href="IK.Norm.Properties.Soundness.Trace.html#4569" class="Function">unboxPresL</a> <a id="5505" class="Symbol">{</a><a id="5506" class="Argument">t</a> <a id="5508" class="Symbol">=</a> <a id="5510" href="IK.Term.Base.html#2760" class="Function">substTm</a> <a id="5518" href="IK.Norm.Properties.Soundness.Trace.html#5472" class="Bound">s</a> <a id="5520" href="IK.Norm.Properties.Soundness.Trace.html#5454" class="Bound">t</a><a id="5521" class="Symbol">}</a> <a id="5523" class="Symbol">(</a><a id="5524" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5529" href="IK.Norm.Properties.Soundness.Trace.html#5454" class="Bound">t</a> <a id="5531" href="IK.Norm.Properties.Soundness.Trace.html#5483" class="Bound">sRδ</a><a id="5534" class="Symbol">)</a> <a id="5536" href="IK.Norm.Properties.Soundness.Trace.html#5474" class="Bound">e</a>
<a id="5538" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5543" class="Symbol">(</a><a id="5544" href="IK.Term.Base.html#868" class="InductiveConstructor">unbox</a> <a id="5550" href="IK.Norm.Properties.Soundness.Trace.html#5550" class="Bound">t</a> <a id="5552" class="Symbol">(</a><a id="5553" href="Context.Base.html#4057" class="InductiveConstructor">ext</a> <a id="5557" href="IK.Norm.Properties.Soundness.Trace.html#5557" class="Bound">e</a><a id="5558" class="Symbol">))</a>             <a id="5573" class="Symbol">(</a><a id="5574" href="IK.Norm.Properties.Soundness.Trace.html#5574" class="Bound">sRδ</a> <a id="5578" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="5581" href="IK.Norm.Properties.Soundness.Trace.html#5581" class="Bound Operator">_uRx</a><a id="5585" class="Symbol">)</a>
  <a id="5589" class="Symbol">=</a> <a id="5591" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="5596" class="Symbol">(</a><a id="5597" href="IK.Term.Base.html#868" class="InductiveConstructor">unbox</a> <a id="5603" href="IK.Norm.Properties.Soundness.Trace.html#5550" class="Bound">t</a> <a id="5605" href="IK.Norm.Properties.Soundness.Trace.html#5557" class="Bound">e</a><a id="5606" class="Symbol">)</a> <a id="5608" href="IK.Norm.Properties.Soundness.Trace.html#5574" class="Bound">sRδ</a>

<a id="5613" class="Comment">-- The Fundamental theorem, extended to substitutions</a>
<a id="5667" class="Comment">-- (not needed for tracing reduction of terms)</a>

<a id="Fundₛ"></a><a id="5715" href="IK.Norm.Properties.Soundness.Trace.html#5715" class="Function">Fundₛ</a> <a id="5721" class="Symbol">:</a> <a id="5723" class="Symbol">(</a><a id="5724" href="IK.Norm.Properties.Soundness.Trace.html#5724" class="Bound">S</a> <a id="5726" class="Symbol">:</a> <a id="5728" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="5732" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="5734" href="Context.Base.html#712" class="Generalizable">Θ</a><a id="5735" class="Symbol">)</a> <a id="5737" class="Symbol">→</a> <a id="5739" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="5743" href="IK.Norm.Properties.Soundness.Trace.html#5715" class="Function">Fundₛ</a> <a id="5749" class="Symbol">{</a><a id="5750" href="IK.Norm.Properties.Soundness.Trace.html#5750" class="Bound">Δ</a><a id="5751" class="Symbol">}</a> <a id="5753" class="Symbol">{</a><a id="5754" href="IK.Norm.Properties.Soundness.Trace.html#5754" class="Bound">Θ</a><a id="5755" class="Symbol">}</a> <a id="5757" href="IK.Norm.Properties.Soundness.Trace.html#5757" class="Bound">S</a> <a id="5759" class="Symbol">=</a> <a id="5761" class="Symbol">∀</a> <a id="5763" class="Symbol">{</a><a id="5764" href="IK.Norm.Properties.Soundness.Trace.html#5764" class="Bound">Γ</a><a id="5765" class="Symbol">}</a> <a id="5767" class="Symbol">{</a><a id="5768" href="IK.Norm.Properties.Soundness.Trace.html#5768" class="Bound">s</a> <a id="5770" class="Symbol">:</a> <a id="5772" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="5776" href="IK.Norm.Properties.Soundness.Trace.html#5764" class="Bound">Γ</a> <a id="5778" href="IK.Norm.Properties.Soundness.Trace.html#5750" class="Bound">Δ</a><a id="5779" class="Symbol">}</a> <a id="5781" class="Symbol">{</a><a id="5782" href="IK.Norm.Properties.Soundness.Trace.html#5782" class="Bound">δ</a> <a id="5784" class="Symbol">:</a> <a id="5786" href="IK.Norm.NbE.Model.html#1038" class="Function">Sub&#39;</a> <a id="5791" href="IK.Norm.Properties.Soundness.Trace.html#5764" class="Bound">Γ</a> <a id="5793" href="IK.Norm.Properties.Soundness.Trace.html#5750" class="Bound">Δ</a><a id="5794" class="Symbol">}</a>
                    <a id="5816" class="Symbol">→</a> <a id="5818" class="Symbol">(</a><a id="5819" href="IK.Norm.Properties.Soundness.Trace.html#5819" class="Bound">sLδ</a> <a id="5823" class="Symbol">:</a> <a id="5825" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="5828" href="IK.Norm.Properties.Soundness.Trace.html#5750" class="Bound">Δ</a> <a id="5830" href="IK.Norm.Properties.Soundness.Trace.html#5768" class="Bound">s</a> <a id="5832" href="IK.Norm.Properties.Soundness.Trace.html#5782" class="Bound">δ</a><a id="5833" class="Symbol">)</a>
                    <a id="5855" class="Symbol">→</a> <a id="5857" href="IK.Norm.Properties.Soundness.Trace.html#769" class="Datatype">Lₛ</a> <a id="5860" href="IK.Norm.Properties.Soundness.Trace.html#5754" class="Bound">Θ</a> <a id="5862" class="Symbol">(</a><a id="5863" href="IK.Norm.Properties.Soundness.Trace.html#5757" class="Bound">S</a> <a id="5865" href="Context.Base.html#13360" class="Function Operator">∙ₛ</a> <a id="5868" href="IK.Norm.Properties.Soundness.Trace.html#5768" class="Bound">s</a><a id="5869" class="Symbol">)</a> <a id="5871" class="Symbol">(</a><a id="5872" href="IK.Norm.NbE.Model.html#2706" class="Function">evalₛ</a> <a id="5878" href="IK.Norm.Properties.Soundness.Trace.html#5757" class="Bound">S</a> <a id="5880" href="IK.Norm.Properties.Soundness.Trace.html#5782" class="Bound">δ</a><a id="5881" class="Symbol">)</a>

<a id="fundₛ"></a><a id="5884" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="5890" class="Symbol">:</a> <a id="5892" class="Symbol">(</a><a id="5893" href="IK.Norm.Properties.Soundness.Trace.html#5893" class="Bound">S</a> <a id="5895" class="Symbol">:</a> <a id="5897" href="Context.Base.html#11143" class="Datatype">Sub</a> <a id="5901" href="Context.Base.html#655" class="Generalizable">Δ</a> <a id="5903" href="Context.Base.html#712" class="Generalizable">Θ</a><a id="5904" class="Symbol">)</a> <a id="5906" class="Symbol">→</a> <a id="5908" href="IK.Norm.Properties.Soundness.Trace.html#5715" class="Function">Fundₛ</a> <a id="5914" href="IK.Norm.Properties.Soundness.Trace.html#5893" class="Bound">S</a>
<a id="5916" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="5922" href="Context.Base.html#11175" class="InductiveConstructor">[]</a>               <a id="5939" href="IK.Norm.Properties.Soundness.Trace.html#5939" class="Bound">sLδ</a>
  <a id="5945" class="Symbol">=</a> <a id="5947" href="IK.Norm.Properties.Soundness.Trace.html#829" class="InductiveConstructor">[]</a>
<a id="5950" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="5956" class="Symbol">(</a><a id="5957" href="IK.Norm.Properties.Soundness.Trace.html#5957" class="Bound">S</a> <a id="5959" href="Context.Base.html#11195" class="InductiveConstructor Operator">`,</a> <a id="5962" href="IK.Norm.Properties.Soundness.Trace.html#5962" class="Bound">t</a><a id="5963" class="Symbol">)</a>         <a id="5973" href="IK.Norm.Properties.Soundness.Trace.html#5973" class="Bound">sLδ</a>
  <a id="5979" class="Symbol">=</a> <a id="5981" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="5987" href="IK.Norm.Properties.Soundness.Trace.html#5957" class="Bound">S</a> <a id="5989" href="IK.Norm.Properties.Soundness.Trace.html#5973" class="Bound">sLδ</a> <a id="5993" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="5996" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="6001" href="IK.Norm.Properties.Soundness.Trace.html#5962" class="Bound">t</a> <a id="6003" href="IK.Norm.Properties.Soundness.Trace.html#5973" class="Bound">sLδ</a>
<a id="6007" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="6013" class="Symbol">(</a><a id="6014" href="Context.Base.html#11258" class="InductiveConstructor">lock</a> <a id="6019" href="IK.Norm.Properties.Soundness.Trace.html#6019" class="Bound">S</a> <a id="6021" href="Context.Base.html#4035" class="InductiveConstructor">nil</a><a id="6024" class="Symbol">)</a>     <a id="6030" class="Symbol">(</a><a id="6031" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="6036" href="IK.Norm.Properties.Soundness.Trace.html#6036" class="Bound">sLδ</a> <a id="6040" href="IK.Norm.Properties.Soundness.Trace.html#6040" class="Bound">e</a><a id="6041" class="Symbol">)</a>
  <a id="6045" class="Symbol">=</a> <a id="6047" href="IK.Norm.Properties.Soundness.Trace.html#995" class="InductiveConstructor">lock</a> <a id="6052" class="Symbol">(</a><a id="6053" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="6059" href="IK.Norm.Properties.Soundness.Trace.html#6019" class="Bound">S</a> <a id="6061" href="IK.Norm.Properties.Soundness.Trace.html#6036" class="Bound">sLδ</a><a id="6064" class="Symbol">)</a> <a id="6066" href="IK.Norm.Properties.Soundness.Trace.html#6040" class="Bound">e</a>
<a id="6068" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="6074" class="Symbol">(</a><a id="6075" href="Context.Base.html#11258" class="InductiveConstructor">lock</a> <a id="6080" href="IK.Norm.Properties.Soundness.Trace.html#6080" class="Bound">S</a> <a id="6082" class="Symbol">(</a><a id="6083" href="Context.Base.html#4057" class="InductiveConstructor">ext</a> <a id="6087" href="IK.Norm.Properties.Soundness.Trace.html#6087" class="Bound">e</a><a id="6088" class="Symbol">))</a> <a id="6091" class="Symbol">(</a><a id="6092" href="IK.Norm.Properties.Soundness.Trace.html#6092" class="Bound">sLδ</a> <a id="6096" href="IK.Norm.Properties.Soundness.Trace.html#850" class="InductiveConstructor Operator">`,</a> <a id="6099" href="IK.Norm.Properties.Soundness.Trace.html#6099" class="Bound Operator">_a</a><a id="6101" class="Symbol">)</a>
  <a id="6105" class="Symbol">=</a> <a id="6107" href="IK.Norm.Properties.Soundness.Trace.html#5884" class="Function">fundₛ</a> <a id="6113" class="Symbol">(</a><a id="6114" href="Context.Base.html#11258" class="InductiveConstructor">lock</a> <a id="6119" href="IK.Norm.Properties.Soundness.Trace.html#6080" class="Bound">S</a> <a id="6121" href="IK.Norm.Properties.Soundness.Trace.html#6087" class="Bound">e</a><a id="6122" class="Symbol">)</a> <a id="6124" href="IK.Norm.Properties.Soundness.Trace.html#6092" class="Bound">sLδ</a>

<a id="6129" class="Comment">-- reduction trace for norm</a>
<a id="trace"></a><a id="6157" href="IK.Norm.Properties.Soundness.Trace.html#6157" class="Function">trace</a> <a id="6163" class="Symbol">:</a> <a id="6165" class="Symbol">(</a><a id="6166" href="IK.Norm.Properties.Soundness.Trace.html#6166" class="Bound">t</a> <a id="6168" class="Symbol">:</a> <a id="6170" href="IK.Term.Base.html#524" class="Datatype">Tm</a> <a id="6173" href="Context.Base.html#598" class="Generalizable">Γ</a> <a id="6175" href="Type.Base.html#172" class="Generalizable">a</a><a id="6176" class="Symbol">)</a> <a id="6178" class="Symbol">→</a> <a id="6180" href="IK.Norm.Properties.Soundness.Trace.html#6166" class="Bound">t</a> <a id="6182" href="IK.Term.Reduction.html#1693" class="Function Operator">⟶*</a> <a id="6185" href="IK.Term.NormalForm.Base.html#749" class="Function">embNf</a> <a id="6191" class="Symbol">(</a><a id="6192" href="IK.Norm.Base.html#430" class="Function">norm</a> <a id="6197" href="IK.Norm.Properties.Soundness.Trace.html#6166" class="Bound">t</a><a id="6198" class="Symbol">)</a>
<a id="6200" href="IK.Norm.Properties.Soundness.Trace.html#6157" class="Function">trace</a> <a id="6206" href="IK.Norm.Properties.Soundness.Trace.html#6206" class="Bound">t</a> <a id="6208" class="Symbol">=</a> <a id="6210" href="IK.Norm.Properties.Soundness.Trace.html#1759" class="Function">L-build</a> <a id="6218" class="Symbol">(</a><a id="6219" href="IK.Norm.Properties.Soundness.Trace.html#1614" class="Function">L-cast</a> <a id="6226" class="Symbol">(</a><a id="6227" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="6231" class="Symbol">(</a><a id="6232" href="IK.Term.Properties.html#9539" class="Function">substTmPresId</a> <a id="6246" href="IK.Norm.Properties.Soundness.Trace.html#6206" class="Bound">t</a><a id="6247" class="Symbol">))</a> <a id="6250" class="Symbol">(</a><a id="6251" href="IK.Norm.Properties.Soundness.Trace.html#4967" class="Function">fund</a> <a id="6256" href="IK.Norm.Properties.Soundness.Trace.html#6206" class="Bound">t</a> <a id="6258" href="IK.Norm.Properties.Soundness.Trace.html#3255" class="Function">idLₛ</a><a id="6262" class="Symbol">))</a>
</pre></body></html>